import{u as p,r as l,j as e,A as h,a as u,s as f,S as d,L as o}from"./index-C8ych0NA.js";import{A as m}from"./AppModal-cabVJyxz.js";const g="/assets/applist_btn-QJFMy_bh.png",j=()=>{const t=p(),[c,s]=l.useState(!1),n=x=>{t("/contacts/"+x)};return e.jsxs(e.Fragment,{children:[e.jsx("a",{onClick:()=>s(!0),className:"cursor-pointer text-[45px] py-2 w-full flex justify-center rounded-[6px] shadow-md font-[hkgyokk] btn-green text-white",children:"検"}),e.jsx(m,{isOpen:c,setIsOpen:s,children:e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl mb-2",children:"電話帳を表示します "}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>n("personal"),children:e.jsx("img",{src:"/rsc/5.png",className:"w-[115px] h-[60px]"})}),e.jsx("button",{onClick:()=>n("company"),children:e.jsx("img",{src:"/rsc/6.jpg",className:"w-[115px] h-[60px]"})})]}),e.jsx("div",{className:"border-b border-gray-300 my-2"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>n("all"),children:e.jsx("img",{src:"/rsc/7.jpg",className:"w-[115px] h-[60px]"})}),e.jsx("button",{onClick:()=>{s(!1)},children:e.jsx("img",{src:"/rsc/8.jpg",className:"w-[115px] h-[60px]"})})]})]})})]})},w=t=>{const{setUser:c}=l.useContext(h),s=l.useRef(null),n=async x=>{var a;try{x.preventDefault();const i=(a=s.current)==null?void 0:a.value;if(i!=null&&i.length){const{data:r}=await u.post("/user",{phone:i});console.log(r),f.emit("auth-login",r.token),r.token&&localStorage.setItem("token",r.token),c(r),u.defaults.headers.common.Authorization=r.token,t.setIsOpen(!1)}else throw Error("Input Phone")}catch(i){const r=i instanceof Error?i.message:"Unknown Error.";d.fire({icon:"error",text:r,confirmButtonText:"はい"})}};return e.jsxs(m,{...t,children:[e.jsx("div",{children:"あなたの電話番号でログインしてくださ い。"}),e.jsxs("form",{className:"mt-3 flex flex-col",onSubmit:n,children:[e.jsx("input",{ref:s,className:" text-4xl outline-none border-b border-gray-300 ",type:"tel",required:!0}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>t.setIsOpen(!1),className:"mt-3 text-white rounded-md bg-red-600 py-3 px-6 shadow-lg hover:bg-red-700",children:"戻る"}),e.jsx("button",{className:"mt-3 text-white rounded-md bg-green-600 py-3 px-6 shadow-lg hover:bg-green-700 ",type:"submit",children:"完了"})]})]})]})},y=()=>{const[t,c]=l.useState(new Date);return l.useEffect(()=>{const s=setInterval(()=>{c(new Date)},3e3);return()=>{clearInterval(s)}},[]),e.jsxs("div",{className:"flex flex-col text-white font-sans",children:[e.jsxs("div",{className:"text-[50px] font-bold leading-[50px]",children:[t.getHours(),":",t.getMinutes()]}),e.jsxs("div",{className:"text-[34px]",children:[t.getFullYear(),".",t.getMonth()+1,".",t.getDate()]})]})},N=()=>{const{user:t,setUser:c}=l.useContext(h),[s,n]=l.useState(!1);l.useEffect(()=>{t!=null&&t.token||n(!0)},[]);const x=async()=>{try{if(t.token){const{isConfirmed:a}=await d.fire({icon:"error",text:"Do you want delete?",confirmButtonText:"はい",showCancelButton:!0,cancelButtonText:"Cancel"});a&&(f.emit("auth-logout"),c({}),localStorage.clear(),d.fire({icon:"success",text:"Logout Successfully.",confirmButtonText:"はい"}))}}catch(a){d.fire({icon:"error",text:a instanceof Error?a.message:"Unknown Error.",confirmButtonText:"はい"})}};return e.jsxs("div",{className:"p-4 w-full home-bg overflow-auto",children:[e.jsx(w,{isOpen:s,setIsOpen:n}),e.jsx("div",{className:"flex justify-between",children:e.jsx(y,{})}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx(o,{to:"/free-call",className:"ripple-effect text-[45px] leading-[52px] py-1 w-[80%] text-center rounded-[6px] shadow-md font-[hkgyokk] btn-green text-white",children:"無料通話"})}),e.jsxs("div",{className:"grid grid-cols-4 gap-5 mt-6",children:[e.jsx(o,{to:"/contacts/personal",className:"text-[45px] py-2 w-full flex justify-center rounded-[6px] shadow-md font-[hkgyokk] btn-green text-white",children:"個"}),e.jsx(o,{to:"/contacts/company",className:"text-[45px] py-2 w-full flex justify-center rounded-[6px] shadow-md font-[hkgyokk] btn-green text-white",children:"会"}),e.jsx(o,{to:"/out-going",className:"text-[45px] py-2 w-full flex justify-center rounded-[6px] shadow-md font-[hkgyokk] btn-green text-white",children:"発"}),e.jsx(o,{to:"/history",className:"text-[45px] py-2 w-full flex justify-center rounded-[6px] shadow-md font-[hkgyokk] btn-green text-white",children:"歴"}),e.jsx(o,{to:"/new-contact",className:"text-[45px] py-2 w-full flex justify-center rounded-[6px] shadow-md font-[hkgyokk] btn-green text-white",children:"新"}),e.jsx(j,{}),e.jsx(o,{to:"/setting",className:"text-[45px] py-2 w-full flex justify-center rounded-[6px] shadow-md font-[hkgyokk] btn-green text-white",children:"設"}),e.jsx(o,{to:"/battery",className:"text-[45px] py-2 w-full flex justify-center rounded-[6px] shadow-md font-[hkgyokk] btn-green text-white",children:"電"})]}),e.jsxs("div",{className:"cursor-pointer w-[90%] text-center text-lg bg-[#D7E4BD] rounded-[25px] p-4 border-green-700 border-[3px] mx-auto mt-6 border-solid",children:["各ボタンを長押し",e.jsx("br",{}),"するとナビを表示します"]}),e.jsxs("div",{className:"flex h-[78px] gap-2 mt-4",children:[e.jsx("a",{className:"cursor-pointer text-white text-lg h-full w-full bg-[#80B4C2] shadow-md flex justify-center items-center rounded-lg",children:"留守"}),e.jsx("a",{className:"cursor-pointer text-white text-lg h-full w-full bg-[#80B4C2] shadow-md flex justify-center items-center rounded-lg",children:"不在"}),e.jsx("a",{onClick:x,className:"cursor-pointer text-white text-lg h-full w-full bg-[#80B4C2] shadow-md flex justify-center items-center rounded-lg",children:"終了"})]}),e.jsxs("div",{className:"flex gap-3 mt-4 pb-4 justify-center",children:[e.jsx("a",{children:e.jsx("img",{src:g,width:72})}),e.jsx("a",{className:"cursor-pointer text-white text-lg px-4 bg-[#3A4AA6] shadow-md flex justify-center items-center rounded-lg",children:"待ち受け画面"})]})]})};export{N as default};
