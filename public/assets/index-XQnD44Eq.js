import{g as Sn,d as Rn,c as se,b as An,u as Cn,e as Tn,r as Ge,A as On,f as Pn,S as ut,s as Q,a as Nn,j as J}from"./index-D5gzapfR.js";function jn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ir={exports:{}},V=Ir.exports={},ce,de;function jt(){throw new Error("setTimeout has not been defined")}function Mt(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ce=setTimeout:ce=jt}catch{ce=jt}try{typeof clearTimeout=="function"?de=clearTimeout:de=Mt}catch{de=Mt}})();function Lr(t){if(ce===setTimeout)return setTimeout(t,0);if((ce===jt||!ce)&&setTimeout)return ce=setTimeout,setTimeout(t,0);try{return ce(t,0)}catch{try{return ce.call(null,t,0)}catch{return ce.call(this,t,0)}}}function Mn(t){if(de===clearTimeout)return clearTimeout(t);if((de===Mt||!de)&&clearTimeout)return de=clearTimeout,clearTimeout(t);try{return de(t)}catch{try{return de.call(null,t)}catch{return de.call(this,t)}}}var he=[],je=!1,ve,He=-1;function Fn(){!je||!ve||(je=!1,ve.length?he=ve.concat(he):He=-1,he.length&&kr())}function kr(){if(!je){var t=Lr(Fn);je=!0;for(var e=he.length;e;){for(ve=he,he=[];++He<e;)ve&&ve[He].run();He=-1,e=he.length}ve=null,je=!1,Mn(t)}}V.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];he.push(new Br(t,e)),he.length===1&&!je&&Lr(kr)};function Br(t,e){this.fun=t,this.array=e}Br.prototype.run=function(){this.fun.apply(null,this.array)};V.title="browser";V.browser=!0;V.env={};V.argv=[];V.version="";V.versions={};function ye(){}V.on=ye;V.addListener=ye;V.once=ye;V.off=ye;V.removeListener=ye;V.removeAllListeners=ye;V.emit=ye;V.prependListener=ye;V.prependOnceListener=ye;V.listeners=function(t){return[]};V.binding=function(t){throw new Error("process.binding is not supported")};V.cwd=function(){return"/"};V.chdir=function(t){throw new Error("process.chdir is not supported")};V.umask=function(){return 0};var Dn=Ir.exports;const x=jn(Dn);var Ft={exports:{}},ct,nr;function In(){if(nr)return ct;nr=1;var t=1e3,e=t*60,r=e*60,n=r*24,a=n*7,u=n*365.25;ct=function(p,g){g=g||{};var P=typeof p;if(P==="string"&&p.length>0)return c(p);if(P==="number"&&isFinite(p))return g.long?y(p):_(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function c(p){if(p=String(p),!(p.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(g){var P=parseFloat(g[1]),L=(g[2]||"ms").toLowerCase();switch(L){case"years":case"year":case"yrs":case"yr":case"y":return P*u;case"weeks":case"week":case"w":return P*a;case"days":case"day":case"d":return P*n;case"hours":case"hour":case"hrs":case"hr":case"h":return P*r;case"minutes":case"minute":case"mins":case"min":case"m":return P*e;case"seconds":case"second":case"secs":case"sec":case"s":return P*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return P;default:return}}}}function _(p){var g=Math.abs(p);return g>=n?Math.round(p/n)+"d":g>=r?Math.round(p/r)+"h":g>=e?Math.round(p/e)+"m":g>=t?Math.round(p/t)+"s":p+"ms"}function y(p){var g=Math.abs(p);return g>=n?h(p,g,n,"day"):g>=r?h(p,g,r,"hour"):g>=e?h(p,g,e,"minute"):g>=t?h(p,g,t,"second"):p+" ms"}function h(p,g,P,L){var N=g>=P*1.5;return Math.round(p/P)+" "+L+(N?"s":"")}return ct}function Ln(t){r.debug=r,r.default=r,r.coerce=y,r.disable=u,r.enable=a,r.enabled=c,r.humanize=In(),r.destroy=h,Object.keys(t).forEach(p=>{r[p]=t[p]}),r.names=[],r.skips=[],r.formatters={};function e(p){let g=0;for(let P=0;P<p.length;P++)g=(g<<5)-g+p.charCodeAt(P),g|=0;return r.colors[Math.abs(g)%r.colors.length]}r.selectColor=e;function r(p){let g,P=null,L,N;function E(...R){if(!E.enabled)return;const s=E,m=Number(new Date),C=m-(g||m);s.diff=C,s.prev=g,s.curr=m,g=m,R[0]=r.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let O=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(I,H)=>{if(I==="%%")return"%";O++;const k=r.formatters[H];if(typeof k=="function"){const D=R[O];I=k.call(s,D),R.splice(O,1),O--}return I}),r.formatArgs.call(s,R),(s.log||r.log).apply(s,R)}return E.namespace=p,E.useColors=r.useColors(),E.color=r.selectColor(p),E.extend=n,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>P!==null?P:(L!==r.namespaces&&(L=r.namespaces,N=r.enabled(p)),N),set:R=>{P=R}}),typeof r.init=="function"&&r.init(E),E}function n(p,g){const P=r(this.namespace+(typeof g>"u"?":":g)+p);return P.log=this.log,P}function a(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];let g;const P=(typeof p=="string"?p:"").split(/[\s,]+/),L=P.length;for(g=0;g<L;g++)P[g]&&(p=P[g].replace(/\*/g,".*?"),p[0]==="-"?r.skips.push(new RegExp("^"+p.slice(1)+"$")):r.names.push(new RegExp("^"+p+"$")))}function u(){const p=[...r.names.map(_),...r.skips.map(_).map(g=>"-"+g)].join(",");return r.enable(""),p}function c(p){if(p[p.length-1]==="*")return!0;let g,P;for(g=0,P=r.skips.length;g<P;g++)if(r.skips[g].test(p))return!1;for(g=0,P=r.names.length;g<P;g++)if(r.names[g].test(p))return!0;return!1}function _(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function y(p){return p instanceof Error?p.stack||p.message:p}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var kn=Ln;(function(t,e){var r={};e.formatArgs=a,e.save=u,e.load=c,e.useColors=n,e.storage=_(),e.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;h.splice(1,0,p,"color: inherit");let g=0,P=0;h[0].replace(/%[a-zA-Z%]/g,L=>{L!=="%%"&&(g++,L==="%c"&&(P=g))}),h.splice(P,0,p)}e.log=console.debug||console.log||(()=>{});function u(h){try{h?e.storage.setItem("debug",h):e.storage.removeItem("debug")}catch{}}function c(){let h;try{h=e.storage.getItem("debug")}catch{}return!h&&typeof x<"u"&&"env"in x&&(h=r.DEBUG),h}function _(){try{return localStorage}catch{}}t.exports=kn(e);const{formatters:y}=t.exports;y.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}})(Ft,Ft.exports);var Bn=Ft.exports,xn=function(){if(typeof globalThis>"u")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null},Dt={exports:{}},It={exports:{}};const $e=Sn(Rn);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=$e,n=r.Buffer;function a(c,_){for(var y in c)_[y]=c[y]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=u);function u(c,_,y){return n(c,_,y)}u.prototype=Object.create(n.prototype),a(n,u),u.from=function(c,_,y){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,_,y)},u.alloc=function(c,_,y){if(typeof c!="number")throw new TypeError("Argument must be a number");var h=n(c);return _!==void 0?typeof y=="string"?h.fill(_,y):h.fill(_):h.fill(0),h},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}})(It,It.exports);var xr=It.exports,dt=65536,Un=4294967295;function $n(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Wn=xr.Buffer,Ze=se.crypto||se.msCrypto;Ze&&Ze.getRandomValues?Dt.exports=qn:Dt.exports=$n;function qn(t,e){if(t>Un)throw new RangeError("requested too many random bytes");var r=Wn.allocUnsafe(t);if(t>0)if(t>dt)for(var n=0;n<t;n+=dt)Ze.getRandomValues(r.slice(n,n+dt));else Ze.getRandomValues(r);return typeof e=="function"?x.nextTick(function(){e(null,r)}):r}var Gn=Dt.exports,Lt={exports:{}},Vt={exports:{}},Me=typeof Reflect=="object"?Reflect:null,ir=Me&&typeof Me.apply=="function"?Me.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Ve;Me&&typeof Me.ownKeys=="function"?Ve=Me.ownKeys:Object.getOwnPropertySymbols?Ve=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ve=function(e){return Object.getOwnPropertyNames(e)};function Hn(t){console&&console.warn&&console.warn(t)}var Ur=Number.isNaN||function(e){return e!==e};function G(){G.init.call(this)}Vt.exports=G;Vt.exports.once=Kn;G.EventEmitter=G;G.prototype._events=void 0;G.prototype._eventsCount=0;G.prototype._maxListeners=void 0;var or=10;function nt(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(G,"defaultMaxListeners",{enumerable:!0,get:function(){return or},set:function(t){if(typeof t!="number"||t<0||Ur(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");or=t}});G.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};G.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ur(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function $r(t){return t._maxListeners===void 0?G.defaultMaxListeners:t._maxListeners}G.prototype.getMaxListeners=function(){return $r(this)};G.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=e==="error",u=this._events;if(u!==void 0)a=a&&u.error===void 0;else if(!a)return!1;if(a){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var _=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw _.context=c,_}var y=u[e];if(y===void 0)return!1;if(typeof y=="function")ir(y,this,r);else for(var h=y.length,p=Vr(y,h),n=0;n<h;++n)ir(p[n],this,r);return!0};function Wr(t,e,r,n){var a,u,c;if(nt(r),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),u=t._events),c=u[e]),c===void 0)c=u[e]=r,++t._eventsCount;else if(typeof c=="function"?c=u[e]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),a=$r(t),a>0&&c.length>a&&!c.warned){c.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=t,_.type=e,_.count=c.length,Hn(_)}return t}G.prototype.addListener=function(e,r){return Wr(this,e,r,!1)};G.prototype.on=G.prototype.addListener;G.prototype.prependListener=function(e,r){return Wr(this,e,r,!0)};function Vn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function qr(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=Vn.bind(n);return a.listener=r,n.wrapFn=a,a}G.prototype.once=function(e,r){return nt(r),this.on(e,qr(this,e,r)),this};G.prototype.prependOnceListener=function(e,r){return nt(r),this.prependListener(e,qr(this,e,r)),this};G.prototype.removeListener=function(e,r){var n,a,u,c,_;if(nt(r),a=this._events,a===void 0)return this;if(n=a[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(u=-1,c=n.length-1;c>=0;c--)if(n[c]===r||n[c].listener===r){_=n[c].listener,u=c;break}if(u<0)return this;u===0?n.shift():zn(n,u),n.length===1&&(a[e]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",e,_||r)}return this};G.prototype.off=G.prototype.removeListener;G.prototype.removeAllListeners=function(e){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var u=Object.keys(n),c;for(a=0;a<u.length;++a)c=u[a],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function Gr(t,e,r){var n=t._events;if(n===void 0)return[];var a=n[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?Yn(a):Vr(a,a.length)}G.prototype.listeners=function(e){return Gr(this,e,!0)};G.prototype.rawListeners=function(e){return Gr(this,e,!1)};G.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Hr.call(t,e)};G.prototype.listenerCount=Hr;function Hr(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}G.prototype.eventNames=function(){return this._eventsCount>0?Ve(this._events):[]};function Vr(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function zn(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Yn(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Kn(t,e){return new Promise(function(r,n){function a(c){t.removeListener(e,u),n(c)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}zr(t,e,u,{once:!0}),e!=="error"&&Jn(t,a,{once:!0})})}function Jn(t,e,r){typeof t.on=="function"&&zr(t,"error",e,r)}function zr(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(u){n.once&&t.removeEventListener(e,a),r(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Yr=Vt.exports,Kr=Yr.EventEmitter,zt={},Jr={},Xr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var u=Object.getOwnPropertySymbols(e);if(u.length!==1||u[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==a||c.enumerable!==!0)return!1}return!0},Xn=Xr,Yt=function(){return Xn()&&!!Symbol.toStringTag},ar=typeof Symbol<"u"&&Symbol,Zn=Xr,Qn=function(){return typeof ar!="function"||typeof Symbol!="function"||typeof ar("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Zn()},sr={foo:{}},ei=Object,ti=function(){return{__proto__:sr}.foo===sr.foo&&!({__proto__:null}instanceof ei)},ri="Function.prototype.bind called on incompatible ",ni=Object.prototype.toString,ii=Math.max,oi="[object Function]",fr=function(e,r){for(var n=[],a=0;a<e.length;a+=1)n[a]=e[a];for(var u=0;u<r.length;u+=1)n[u+e.length]=r[u];return n},ai=function(e,r){for(var n=[],a=r||0,u=0;a<e.length;a+=1,u+=1)n[u]=e[a];return n},si=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},fi=function(e){var r=this;if(typeof r!="function"||ni.apply(r)!==oi)throw new TypeError(ri+r);for(var n=ai(arguments,1),a,u=function(){if(this instanceof a){var p=r.apply(this,fr(n,arguments));return Object(p)===p?p:this}return r.apply(e,fr(n,arguments))},c=ii(0,r.length-n.length),_=[],y=0;y<c;y++)_[y]="$"+y;if(a=Function("binder","return function ("+si(_,",")+"){ return binder.apply(this,arguments); }")(u),r.prototype){var h=function(){};h.prototype=r.prototype,a.prototype=new h,h.prototype=null}return a},li=fi,Kt=Function.prototype.bind||li,ui=Function.prototype.call,ci=Object.prototype.hasOwnProperty,di=Kt,hi=di.call(ui,ci),U,De=SyntaxError,Zr=Function,Fe=TypeError,ht=function(t){try{return Zr('"use strict"; return ('+t+").constructor;")()}catch{}},_e=Object.getOwnPropertyDescriptor;if(_e)try{_e({},"")}catch{_e=null}var pt=function(){throw new Fe},pi=_e?function(){try{return arguments.callee,pt}catch{try{return _e(arguments,"callee").get}catch{return pt}}}():pt,Ae=Qn(),yi=ti(),Y=Object.getPrototypeOf||(yi?function(t){return t.__proto__}:null),Pe={},gi=typeof Uint8Array>"u"||!Y?U:Y(Uint8Array),me={"%AggregateError%":typeof AggregateError>"u"?U:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?U:ArrayBuffer,"%ArrayIteratorPrototype%":Ae&&Y?Y([][Symbol.iterator]()):U,"%AsyncFromSyncIteratorPrototype%":U,"%AsyncFunction%":Pe,"%AsyncGenerator%":Pe,"%AsyncGeneratorFunction%":Pe,"%AsyncIteratorPrototype%":Pe,"%Atomics%":typeof Atomics>"u"?U:Atomics,"%BigInt%":typeof BigInt>"u"?U:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?U:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?U:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?U:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?U:Float32Array,"%Float64Array%":typeof Float64Array>"u"?U:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?U:FinalizationRegistry,"%Function%":Zr,"%GeneratorFunction%":Pe,"%Int8Array%":typeof Int8Array>"u"?U:Int8Array,"%Int16Array%":typeof Int16Array>"u"?U:Int16Array,"%Int32Array%":typeof Int32Array>"u"?U:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ae&&Y?Y(Y([][Symbol.iterator]())):U,"%JSON%":typeof JSON=="object"?JSON:U,"%Map%":typeof Map>"u"?U:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ae||!Y?U:Y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?U:Promise,"%Proxy%":typeof Proxy>"u"?U:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?U:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?U:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ae||!Y?U:Y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?U:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ae&&Y?Y(""[Symbol.iterator]()):U,"%Symbol%":Ae?Symbol:U,"%SyntaxError%":De,"%ThrowTypeError%":pi,"%TypedArray%":gi,"%TypeError%":Fe,"%Uint8Array%":typeof Uint8Array>"u"?U:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?U:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?U:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?U:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?U:WeakMap,"%WeakRef%":typeof WeakRef>"u"?U:WeakRef,"%WeakSet%":typeof WeakSet>"u"?U:WeakSet};if(Y)try{null.error}catch(t){var bi=Y(Y(t));me["%Error.prototype%"]=bi}var vi=function t(e){var r;if(e==="%AsyncFunction%")r=ht("async function () {}");else if(e==="%GeneratorFunction%")r=ht("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ht("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&Y&&(r=Y(a.prototype))}return me[e]=r,r},lr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},We=Kt,Qe=hi,_i=We.call(Function.call,Array.prototype.concat),mi=We.call(Function.apply,Array.prototype.splice),ur=We.call(Function.call,String.prototype.replace),et=We.call(Function.call,String.prototype.slice),wi=We.call(Function.call,RegExp.prototype.exec),Ei=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Si=/\\(\\)?/g,Ri=function(e){var r=et(e,0,1),n=et(e,-1);if(r==="%"&&n!=="%")throw new De("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new De("invalid intrinsic syntax, expected opening `%`");var a=[];return ur(e,Ei,function(u,c,_,y){a[a.length]=_?ur(y,Si,"$1"):c||u}),a},Ai=function(e,r){var n=e,a;if(Qe(lr,n)&&(a=lr[n],n="%"+a[0]+"%"),Qe(me,n)){var u=me[n];if(u===Pe&&(u=vi(n)),typeof u>"u"&&!r)throw new Fe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:u}}throw new De("intrinsic "+e+" does not exist!")},Le=function(e,r){if(typeof e!="string"||e.length===0)throw new Fe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Fe('"allowMissing" argument must be a boolean');if(wi(/^%?[^%]*%?$/,e)===null)throw new De("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Ri(e),a=n.length>0?n[0]:"",u=Ai("%"+a+"%",r),c=u.name,_=u.value,y=!1,h=u.alias;h&&(a=h[0],mi(n,_i([0,1],h)));for(var p=1,g=!0;p<n.length;p+=1){var P=n[p],L=et(P,0,1),N=et(P,-1);if((L==='"'||L==="'"||L==="`"||N==='"'||N==="'"||N==="`")&&L!==N)throw new De("property names with quotes must have matching quotes");if((P==="constructor"||!g)&&(y=!0),a+="."+P,c="%"+a+"%",Qe(me,c))_=me[c];else if(_!=null){if(!(P in _)){if(!r)throw new Fe("base intrinsic for "+e+" exists, but the property is not available.");return}if(_e&&p+1>=n.length){var E=_e(_,P);g=!!E,g&&"get"in E&&!("originalValue"in E.get)?_=E.get:_=_[P]}else g=Qe(_,P),_=_[P];g&&!y&&(me[c]=_)}}return _},Qr={exports:{}},Ci=Le,kt=Ci("%Object.defineProperty%",!0),Bt=function(){if(kt)try{return kt({},"a",{value:1}),!0}catch{return!1}return!1};Bt.hasArrayLengthDefineBug=function(){if(!Bt())return null;try{return kt([],"length",{value:1}).length!==1}catch{return!0}};var en=Bt,Ti=Le,ze=Ti("%Object.getOwnPropertyDescriptor%",!0);if(ze)try{ze([],"length")}catch{ze=null}var Jt=ze,Oi=en(),Xt=Le,xe=Oi&&Xt("%Object.defineProperty%",!0);if(xe)try{xe({},"a",{value:1})}catch{xe=!1}var Pi=Xt("%SyntaxError%"),Ce=Xt("%TypeError%"),cr=Jt,Ni=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ce("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ce("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ce("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ce("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ce("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ce("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,_=arguments.length>6?arguments[6]:!1,y=!!cr&&cr(e,r);if(xe)xe(e,r,{configurable:c===null&&y?y.configurable:!c,enumerable:a===null&&y?y.enumerable:!a,value:n,writable:u===null&&y?y.writable:!u});else if(_||!a&&!u&&!c)e[r]=n;else throw new Pi("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},tn=Le,dr=Ni,ji=en(),hr=Jt,pr=tn("%TypeError%"),Mi=tn("%Math.floor%"),Fi=function(e,r){if(typeof e!="function")throw new pr("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Mi(r)!==r)throw new pr("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,u=!0;if("length"in e&&hr){var c=hr(e,"length");c&&!c.configurable&&(a=!1),c&&!c.writable&&(u=!1)}return(a||u||!n)&&(ji?dr(e,"length",r,!0,!0):dr(e,"length",r)),e};(function(t){var e=Kt,r=Le,n=Fi,a=r("%TypeError%"),u=r("%Function.prototype.apply%"),c=r("%Function.prototype.call%"),_=r("%Reflect.apply%",!0)||e.call(c,u),y=r("%Object.defineProperty%",!0),h=r("%Math.max%");if(y)try{y({},"a",{value:1})}catch{y=null}t.exports=function(P){if(typeof P!="function")throw new a("a function is required");var L=_(e,c,arguments);return n(L,1+h(0,P.length-(arguments.length-1)),!0)};var p=function(){return _(e,u,arguments)};y?y(t.exports,"apply",{value:p}):t.exports.apply=p})(Qr);var rn=Qr.exports,nn=Le,on=rn,Di=on(nn("String.prototype.indexOf")),an=function(e,r){var n=nn(e,!!r);return typeof n=="function"&&Di(e,".prototype.")>-1?on(n):n},Ii=Yt(),Li=an,xt=Li("Object.prototype.toString"),it=function(e){return Ii&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:xt(e)==="[object Arguments]"},sn=function(e){return it(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&xt(e)!=="[object Array]"&&xt(e.callee)==="[object Function]"},ki=function(){return it(arguments)}();it.isLegacyArguments=sn;var Bi=ki?it:sn,xi=Object.prototype.toString,Ui=Function.prototype.toString,$i=/^\s*(?:function)?\*/,fn=Yt(),yt=Object.getPrototypeOf,Wi=function(){if(!fn)return!1;try{return Function("return function*() {}")()}catch{}},gt,qi=function(e){if(typeof e!="function")return!1;if($i.test(Ui.call(e)))return!0;if(!fn){var r=xi.call(e);return r==="[object GeneratorFunction]"}if(!yt)return!1;if(typeof gt>"u"){var n=Wi();gt=n?yt(n):!1}return yt(e)===gt},ln=Function.prototype.toString,Ne=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ut,Ye;if(typeof Ne=="function"&&typeof Object.defineProperty=="function")try{Ut=Object.defineProperty({},"length",{get:function(){throw Ye}}),Ye={},Ne(function(){throw 42},null,Ut)}catch(t){t!==Ye&&(Ne=null)}else Ne=null;var Gi=/^\s*class\b/,$t=function(e){try{var r=ln.call(e);return Gi.test(r)}catch{return!1}},bt=function(e){try{return $t(e)?!1:(ln.call(e),!0)}catch{return!1}},Ke=Object.prototype.toString,Hi="[object Object]",Vi="[object Function]",zi="[object GeneratorFunction]",Yi="[object HTMLAllCollection]",Ki="[object HTML document.all class]",Ji="[object HTMLCollection]",Xi=typeof Symbol=="function"&&!!Symbol.toStringTag,Zi=!(0 in[,]),Wt=function(){return!1};if(typeof document=="object"){var Qi=document.all;Ke.call(Qi)===Ke.call(document.all)&&(Wt=function(e){if((Zi||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Ke.call(e);return(r===Yi||r===Ki||r===Ji||r===Hi)&&e("")==null}catch{}return!1})}var eo=Ne?function(e){if(Wt(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ne(e,null,Ut)}catch(r){if(r!==Ye)return!1}return!$t(e)&&bt(e)}:function(e){if(Wt(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Xi)return bt(e);if($t(e))return!1;var r=Ke.call(e);return r!==Vi&&r!==zi&&!/^\[object HTML/.test(r)?!1:bt(e)},to=eo,ro=Object.prototype.toString,un=Object.prototype.hasOwnProperty,no=function(e,r,n){for(var a=0,u=e.length;a<u;a++)un.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))},io=function(e,r,n){for(var a=0,u=e.length;a<u;a++)n==null?r(e.charAt(a),a,e):r.call(n,e.charAt(a),a,e)},oo=function(e,r,n){for(var a in e)un.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))},ao=function(e,r,n){if(!to(r))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),ro.call(e)==="[object Array]"?no(e,r,a):typeof e=="string"?io(e,r,a):oo(e,r,a)},so=ao,vt=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],fo=typeof globalThis>"u"?se:globalThis,lo=function(){for(var e=[],r=0;r<vt.length;r++)typeof fo[vt[r]]=="function"&&(e[e.length]=vt[r]);return e},tt=so,uo=lo,yr=rn,Zt=an,Je=Jt,co=Zt("Object.prototype.toString"),cn=Yt(),gr=typeof globalThis>"u"?se:globalThis,qt=uo(),Qt=Zt("String.prototype.slice"),_t=Object.getPrototypeOf,ho=Zt("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},rt={__proto__:null};cn&&Je&&_t?tt(qt,function(t){var e=new gr[t];if(Symbol.toStringTag in e){var r=_t(e),n=Je(r,Symbol.toStringTag);if(!n){var a=_t(r);n=Je(a,Symbol.toStringTag)}rt["$"+t]=yr(n.get)}}):tt(qt,function(t){var e=new gr[t],r=e.slice||e.set;r&&(rt["$"+t]=yr(r))});var po=function(e){var r=!1;return tt(rt,function(n,a){if(!r)try{"$"+n(e)===a&&(r=Qt(a,1))}catch{}}),r},yo=function(e){var r=!1;return tt(rt,function(n,a){if(!r)try{n(e),r=Qt(a,1)}catch{}}),r},dn=function(e){if(!e||typeof e!="object")return!1;if(!cn){var r=Qt(co(e),8,-1);return ho(qt,r)>-1?r:r!=="Object"?!1:yo(e)}return Je?po(e):null},go=dn,bo=function(e){return!!go(e)};(function(t){var e=Bi,r=qi,n=dn,a=bo;function u(w){return w.call.bind(w)}var c=typeof BigInt<"u",_=typeof Symbol<"u",y=u(Object.prototype.toString),h=u(Number.prototype.valueOf),p=u(String.prototype.valueOf),g=u(Boolean.prototype.valueOf);if(c)var P=u(BigInt.prototype.valueOf);if(_)var L=u(Symbol.prototype.valueOf);function N(w,qe){if(typeof w!="object")return!1;try{return qe(w),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=a;function E(w){return typeof Promise<"u"&&w instanceof Promise||w!==null&&typeof w=="object"&&typeof w.then=="function"&&typeof w.catch=="function"}t.isPromise=E;function R(w){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(w):a(w)||d(w)}t.isArrayBufferView=R;function s(w){return n(w)==="Uint8Array"}t.isUint8Array=s;function m(w){return n(w)==="Uint8ClampedArray"}t.isUint8ClampedArray=m;function C(w){return n(w)==="Uint16Array"}t.isUint16Array=C;function O(w){return n(w)==="Uint32Array"}t.isUint32Array=O;function F(w){return n(w)==="Int8Array"}t.isInt8Array=F;function I(w){return n(w)==="Int16Array"}t.isInt16Array=I;function H(w){return n(w)==="Int32Array"}t.isInt32Array=H;function k(w){return n(w)==="Float32Array"}t.isFloat32Array=k;function D(w){return n(w)==="Float64Array"}t.isFloat64Array=D;function z(w){return n(w)==="BigInt64Array"}t.isBigInt64Array=z;function te(w){return n(w)==="BigUint64Array"}t.isBigUint64Array=te;function X(w){return y(w)==="[object Map]"}X.working=typeof Map<"u"&&X(new Map);function Z(w){return typeof Map>"u"?!1:X.working?X(w):w instanceof Map}t.isMap=Z;function fe(w){return y(w)==="[object Set]"}fe.working=typeof Set<"u"&&fe(new Set);function le(w){return typeof Set>"u"?!1:fe.working?fe(w):w instanceof Set}t.isSet=le;function re(w){return y(w)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function ie(w){return typeof WeakMap>"u"?!1:re.working?re(w):w instanceof WeakMap}t.isWeakMap=ie;function ue(w){return y(w)==="[object WeakSet]"}ue.working=typeof WeakSet<"u"&&ue(new WeakSet);function oe(w){return ue(w)}t.isWeakSet=oe;function K(w){return y(w)==="[object ArrayBuffer]"}K.working=typeof ArrayBuffer<"u"&&K(new ArrayBuffer);function ge(w){return typeof ArrayBuffer>"u"?!1:K.working?K(w):w instanceof ArrayBuffer}t.isArrayBuffer=ge;function ae(w){return y(w)==="[object DataView]"}ae.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ae(new DataView(new ArrayBuffer(1),0,1));function d(w){return typeof DataView>"u"?!1:ae.working?ae(w):w instanceof DataView}t.isDataView=d;var v=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function A(w){return y(w)==="[object SharedArrayBuffer]"}function f(w){return typeof v>"u"?!1:(typeof A.working>"u"&&(A.working=A(new v)),A.working?A(w):w instanceof v)}t.isSharedArrayBuffer=f;function l(w){return y(w)==="[object AsyncFunction]"}t.isAsyncFunction=l;function b(w){return y(w)==="[object Map Iterator]"}t.isMapIterator=b;function T(w){return y(w)==="[object Set Iterator]"}t.isSetIterator=T;function j(w){return y(w)==="[object Generator]"}t.isGeneratorObject=j;function i(w){return y(w)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=i;function o(w){return N(w,h)}t.isNumberObject=o;function S(w){return N(w,p)}t.isStringObject=S;function M(w){return N(w,g)}t.isBooleanObject=M;function W(w){return c&&N(w,P)}t.isBigIntObject=W;function B(w){return _&&N(w,L)}t.isSymbolObject=B;function q(w){return o(w)||S(w)||M(w)||W(w)||B(w)}t.isBoxedPrimitive=q;function be(w){return typeof Uint8Array<"u"&&(ge(w)||f(w))}t.isAnyArrayBuffer=be,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(w){Object.defineProperty(t,w,{enumerable:!1,value:function(){throw new Error(w+" is not supported in userland")}})})})(Jr);var vo=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},Gt={exports:{}};typeof Object.create=="function"?Gt.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Gt.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var ke=Gt.exports;(function(t){var e={},r=Object.getOwnPropertyDescriptors||function(v){for(var A=Object.keys(v),f={},l=0;l<A.length;l++)f[A[l]]=Object.getOwnPropertyDescriptor(v,A[l]);return f},n=/%[sdj%]/g;t.format=function(d){if(!I(d)){for(var v=[],A=0;A<arguments.length;A++)v.push(_(arguments[A]));return v.join(" ")}for(var A=1,f=arguments,l=f.length,b=String(d).replace(n,function(j){if(j==="%%")return"%";if(A>=l)return j;switch(j){case"%s":return String(f[A++]);case"%d":return Number(f[A++]);case"%j":try{return JSON.stringify(f[A++])}catch{return"[Circular]"}default:return j}}),T=f[A];A<l;T=f[++A])C(T)||!z(T)?b+=" "+T:b+=" "+_(T);return b},t.deprecate=function(d,v){if(typeof x<"u"&&x.noDeprecation===!0)return d;if(typeof x>"u")return function(){return t.deprecate(d,v).apply(this,arguments)};var A=!1;function f(){if(!A){if(x.throwDeprecation)throw new Error(v);x.traceDeprecation?console.trace(v):console.error(v),A=!0}return d.apply(this,arguments)}return f};var a={},u=/^$/;if(e.NODE_DEBUG){var c=e.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+c+"$","i")}t.debuglog=function(d){if(d=d.toUpperCase(),!a[d])if(u.test(d)){var v=x.pid;a[d]=function(){var A=t.format.apply(t,arguments);console.error("%s %d: %s",d,v,A)}}else a[d]=function(){};return a[d]};function _(d,v){var A={seen:[],stylize:h};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),m(v)?A.showHidden=v:v&&t._extend(A,v),k(A.showHidden)&&(A.showHidden=!1),k(A.depth)&&(A.depth=2),k(A.colors)&&(A.colors=!1),k(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=y),g(A,d,A.depth)}t.inspect=_,_.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},_.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function y(d,v){var A=_.styles[v];return A?"\x1B["+_.colors[A][0]+"m"+d+"\x1B["+_.colors[A][1]+"m":d}function h(d,v){return d}function p(d){var v={};return d.forEach(function(A,f){v[A]=!0}),v}function g(d,v,A){if(d.customInspect&&v&&Z(v.inspect)&&v.inspect!==t.inspect&&!(v.constructor&&v.constructor.prototype===v)){var f=v.inspect(A,d);return I(f)||(f=g(d,f,A)),f}var l=P(d,v);if(l)return l;var b=Object.keys(v),T=p(b);if(d.showHidden&&(b=Object.getOwnPropertyNames(v)),X(v)&&(b.indexOf("message")>=0||b.indexOf("description")>=0))return L(v);if(b.length===0){if(Z(v)){var j=v.name?": "+v.name:"";return d.stylize("[Function"+j+"]","special")}if(D(v))return d.stylize(RegExp.prototype.toString.call(v),"regexp");if(te(v))return d.stylize(Date.prototype.toString.call(v),"date");if(X(v))return L(v)}var i="",o=!1,S=["{","}"];if(s(v)&&(o=!0,S=["[","]"]),Z(v)){var M=v.name?": "+v.name:"";i=" [Function"+M+"]"}if(D(v)&&(i=" "+RegExp.prototype.toString.call(v)),te(v)&&(i=" "+Date.prototype.toUTCString.call(v)),X(v)&&(i=" "+L(v)),b.length===0&&(!o||v.length==0))return S[0]+i+S[1];if(A<0)return D(v)?d.stylize(RegExp.prototype.toString.call(v),"regexp"):d.stylize("[Object]","special");d.seen.push(v);var W;return o?W=N(d,v,A,T,b):W=b.map(function(B){return E(d,v,A,T,B,o)}),d.seen.pop(),R(W,i,S)}function P(d,v){if(k(v))return d.stylize("undefined","undefined");if(I(v)){var A="'"+JSON.stringify(v).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return d.stylize(A,"string")}if(F(v))return d.stylize(""+v,"number");if(m(v))return d.stylize(""+v,"boolean");if(C(v))return d.stylize("null","null")}function L(d){return"["+Error.prototype.toString.call(d)+"]"}function N(d,v,A,f,l){for(var b=[],T=0,j=v.length;T<j;++T)oe(v,String(T))?b.push(E(d,v,A,f,String(T),!0)):b.push("");return l.forEach(function(i){i.match(/^\d+$/)||b.push(E(d,v,A,f,i,!0))}),b}function E(d,v,A,f,l,b){var T,j,i;if(i=Object.getOwnPropertyDescriptor(v,l)||{value:v[l]},i.get?i.set?j=d.stylize("[Getter/Setter]","special"):j=d.stylize("[Getter]","special"):i.set&&(j=d.stylize("[Setter]","special")),oe(f,l)||(T="["+l+"]"),j||(d.seen.indexOf(i.value)<0?(C(A)?j=g(d,i.value,null):j=g(d,i.value,A-1),j.indexOf(`
`)>-1&&(b?j=j.split(`
`).map(function(o){return"  "+o}).join(`
`).slice(2):j=`
`+j.split(`
`).map(function(o){return"   "+o}).join(`
`))):j=d.stylize("[Circular]","special")),k(T)){if(b&&l.match(/^\d+$/))return j;T=JSON.stringify(""+l),T.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(T=T.slice(1,-1),T=d.stylize(T,"name")):(T=T.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),T=d.stylize(T,"string"))}return T+": "+j}function R(d,v,A){var f=d.reduce(function(l,b){return b.indexOf(`
`)>=0,l+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return f>60?A[0]+(v===""?"":v+`
 `)+" "+d.join(`,
  `)+" "+A[1]:A[0]+v+" "+d.join(", ")+" "+A[1]}t.types=Jr;function s(d){return Array.isArray(d)}t.isArray=s;function m(d){return typeof d=="boolean"}t.isBoolean=m;function C(d){return d===null}t.isNull=C;function O(d){return d==null}t.isNullOrUndefined=O;function F(d){return typeof d=="number"}t.isNumber=F;function I(d){return typeof d=="string"}t.isString=I;function H(d){return typeof d=="symbol"}t.isSymbol=H;function k(d){return d===void 0}t.isUndefined=k;function D(d){return z(d)&&le(d)==="[object RegExp]"}t.isRegExp=D,t.types.isRegExp=D;function z(d){return typeof d=="object"&&d!==null}t.isObject=z;function te(d){return z(d)&&le(d)==="[object Date]"}t.isDate=te,t.types.isDate=te;function X(d){return z(d)&&(le(d)==="[object Error]"||d instanceof Error)}t.isError=X,t.types.isNativeError=X;function Z(d){return typeof d=="function"}t.isFunction=Z;function fe(d){return d===null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||typeof d=="symbol"||typeof d>"u"}t.isPrimitive=fe,t.isBuffer=vo;function le(d){return Object.prototype.toString.call(d)}function re(d){return d<10?"0"+d.toString(10):d.toString(10)}var ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ue(){var d=new Date,v=[re(d.getHours()),re(d.getMinutes()),re(d.getSeconds())].join(":");return[d.getDate(),ie[d.getMonth()],v].join(" ")}t.log=function(){console.log("%s - %s",ue(),t.format.apply(t,arguments))},t.inherits=ke,t._extend=function(d,v){if(!v||!z(v))return d;for(var A=Object.keys(v),f=A.length;f--;)d[A[f]]=v[A[f]];return d};function oe(d,v){return Object.prototype.hasOwnProperty.call(d,v)}var K=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(v){if(typeof v!="function")throw new TypeError('The "original" argument must be of type Function');if(K&&v[K]){var A=v[K];if(typeof A!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(A,K,{value:A,enumerable:!1,writable:!1,configurable:!0}),A}function A(){for(var f,l,b=new Promise(function(i,o){f=i,l=o}),T=[],j=0;j<arguments.length;j++)T.push(arguments[j]);T.push(function(i,o){i?l(i):f(o)});try{v.apply(this,T)}catch(i){l(i)}return b}return Object.setPrototypeOf(A,Object.getPrototypeOf(v)),K&&Object.defineProperty(A,K,{value:A,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(A,r(v))},t.promisify.custom=K;function ge(d,v){if(!d){var A=new Error("Promise was rejected with a falsy value");A.reason=d,d=A}return v(d)}function ae(d){if(typeof d!="function")throw new TypeError('The "original" argument must be of type Function');function v(){for(var A=[],f=0;f<arguments.length;f++)A.push(arguments[f]);var l=A.pop();if(typeof l!="function")throw new TypeError("The last argument must be of type Function");var b=this,T=function(){return l.apply(b,arguments)};d.apply(this,A).then(function(j){x.nextTick(T.bind(null,null,j))},function(j){x.nextTick(ge.bind(null,j,T))})}return Object.setPrototypeOf(v,Object.getPrototypeOf(d)),Object.defineProperties(v,r(d)),v}t.callbackify=ae})(zt);var mt,br;function _o(){if(br)return mt;br=1;function t(N,E){var R=Object.keys(N);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(N);E&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(N,m).enumerable})),R.push.apply(R,s)}return R}function e(N){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?t(Object(R),!0).forEach(function(s){r(N,s,R[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(R)):t(Object(R)).forEach(function(s){Object.defineProperty(N,s,Object.getOwnPropertyDescriptor(R,s))})}return N}function r(N,E,R){return E=c(E),E in N?Object.defineProperty(N,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):N[E]=R,N}function n(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function a(N,E){for(var R=0;R<E.length;R++){var s=E[R];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(N,c(s.key),s)}}function u(N,E,R){return E&&a(N.prototype,E),R&&a(N,R),Object.defineProperty(N,"prototype",{writable:!1}),N}function c(N){var E=_(N,"string");return typeof E=="symbol"?E:String(E)}function _(N,E){if(typeof N!="object"||N===null)return N;var R=N[Symbol.toPrimitive];if(R!==void 0){var s=R.call(N,E||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(N)}var y=$e,h=y.Buffer,p=zt,g=p.inspect,P=g&&g.custom||"inspect";function L(N,E,R){h.prototype.copy.call(N,E,R)}return mt=function(){function N(){n(this,N),this.head=null,this.tail=null,this.length=0}return u(N,[{key:"push",value:function(R){var s={data:R,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length}},{key:"unshift",value:function(R){var s={data:R,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var s=this.head,m=""+s.data;s=s.next;)m+=R+s.data;return m}},{key:"concat",value:function(R){if(this.length===0)return h.alloc(0);for(var s=h.allocUnsafe(R>>>0),m=this.head,C=0;m;)L(m.data,s,C),C+=m.data.length,m=m.next;return s}},{key:"consume",value:function(R,s){var m;return R<this.head.data.length?(m=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?m=this.shift():m=s?this._getString(R):this._getBuffer(R),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var s=this.head,m=1,C=s.data;for(R-=C.length;s=s.next;){var O=s.data,F=R>O.length?O.length:R;if(F===O.length?C+=O:C+=O.slice(0,R),R-=F,R===0){F===O.length?(++m,s.next?this.head=s.next:this.head=this.tail=null):(this.head=s,s.data=O.slice(F));break}++m}return this.length-=m,C}},{key:"_getBuffer",value:function(R){var s=h.allocUnsafe(R),m=this.head,C=1;for(m.data.copy(s),R-=m.data.length;m=m.next;){var O=m.data,F=R>O.length?O.length:R;if(O.copy(s,s.length-R,0,F),R-=F,R===0){F===O.length?(++C,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=O.slice(F));break}++C}return this.length-=C,s}},{key:P,value:function(R,s){return g(this,e(e({},s),{},{depth:0,customInspect:!1}))}}]),N}(),mt}function mo(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,x.nextTick(Ht,this,t)):x.nextTick(Ht,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(u){!e&&u?r._writableState?r._writableState.errorEmitted?x.nextTick(Xe,r):(r._writableState.errorEmitted=!0,x.nextTick(vr,r,u)):x.nextTick(vr,r,u):e?(x.nextTick(Xe,r),e(u)):x.nextTick(Xe,r)}),this)}function vr(t,e){Ht(t,e),Xe(t)}function Xe(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function wo(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ht(t,e){t.emit("error",e)}function Eo(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var hn={destroy:mo,undestroy:wo,errorOrDestroy:Eo},Ee={};function So(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var pn={};function ne(t,e,r){r||(r=Error);function n(u,c,_){return typeof e=="string"?e:e(u,c,_)}var a=function(u){So(c,u);function c(_,y,h){return u.call(this,n(_,y,h))||this}return c}(r);a.prototype.name=r.name,a.prototype.code=t,pn[t]=a}function _r(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Ro(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Ao(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Co(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ne("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ne("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Ro(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(Ao(t," argument"))a="The ".concat(t," ").concat(n," ").concat(_r(e,"type"));else{var u=Co(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(u," ").concat(n," ").concat(_r(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);ne("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ne("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ne("ERR_STREAM_PREMATURE_CLOSE","Premature close");ne("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ne("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ne("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ne("ERR_STREAM_WRITE_AFTER_END","write after end");ne("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ne("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ne("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ee.codes=pn;var To=Ee.codes.ERR_INVALID_OPT_VALUE;function Oo(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Po(t,e,r,n){var a=Oo(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var u=n?r:"highWaterMark";throw new To(u,a)}return Math.floor(a)}return t.objectMode?16:16*1024}var yn={getHighWaterMark:Po},No=jo;function jo(t,e){if(wt("noDeprecation"))return t;var r=!1;function n(){if(!r){if(wt("throwDeprecation"))throw new Error(e);wt("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function wt(t){try{if(!se.localStorage)return!1}catch{return!1}var e=se.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Et,mr;function gn(){if(mr)return Et;mr=1,Et=k;function t(f){var l=this;this.next=null,this.entry=null,this.finish=function(){A(l,f)}}var e;k.WritableState=I;var r={deprecate:No},n=Kr,a=$e.Buffer,u=(typeof se<"u"?se:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(f){return a.from(f)}function _(f){return a.isBuffer(f)||f instanceof u}var y=hn,h=yn,p=h.getHighWaterMark,g=Ee.codes,P=g.ERR_INVALID_ARG_TYPE,L=g.ERR_METHOD_NOT_IMPLEMENTED,N=g.ERR_MULTIPLE_CALLBACK,E=g.ERR_STREAM_CANNOT_PIPE,R=g.ERR_STREAM_DESTROYED,s=g.ERR_STREAM_NULL_VALUES,m=g.ERR_STREAM_WRITE_AFTER_END,C=g.ERR_UNKNOWN_ENCODING,O=y.errorOrDestroy;ke(k,n);function F(){}function I(f,l,b){e=e||Ie(),f=f||{},typeof b!="boolean"&&(b=l instanceof e),this.objectMode=!!f.objectMode,b&&(this.objectMode=this.objectMode||!!f.writableObjectMode),this.highWaterMark=p(this,f,"writableHighWaterMark",b),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=f.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=f.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){re(l,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=f.emitClose!==!1,this.autoDestroy=!!f.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}I.prototype.getBuffer=function(){for(var l=this.bufferedRequest,b=[];l;)b.push(l),l=l.next;return b},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var H;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(H=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(l){return H.call(this,l)?!0:this!==k?!1:l&&l._writableState instanceof I}})):H=function(l){return l instanceof this};function k(f){e=e||Ie();var l=this instanceof e;if(!l&&!H.call(k,this))return new k(f);this._writableState=new I(f,this,l),this.writable=!0,f&&(typeof f.write=="function"&&(this._write=f.write),typeof f.writev=="function"&&(this._writev=f.writev),typeof f.destroy=="function"&&(this._destroy=f.destroy),typeof f.final=="function"&&(this._final=f.final)),n.call(this)}k.prototype.pipe=function(){O(this,new E)};function D(f,l){var b=new m;O(f,b),x.nextTick(l,b)}function z(f,l,b,T){var j;return b===null?j=new s:typeof b!="string"&&!l.objectMode&&(j=new P("chunk",["string","Buffer"],b)),j?(O(f,j),x.nextTick(T,j),!1):!0}k.prototype.write=function(f,l,b){var T=this._writableState,j=!1,i=!T.objectMode&&_(f);return i&&!a.isBuffer(f)&&(f=c(f)),typeof l=="function"&&(b=l,l=null),i?l="buffer":l||(l=T.defaultEncoding),typeof b!="function"&&(b=F),T.ending?D(this,b):(i||z(this,T,f,b))&&(T.pendingcb++,j=X(this,T,i,f,l,b)),j},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var f=this._writableState;f.corked&&(f.corked--,!f.writing&&!f.corked&&!f.bufferProcessing&&f.bufferedRequest&&oe(this,f))},k.prototype.setDefaultEncoding=function(l){if(typeof l=="string"&&(l=l.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((l+"").toLowerCase())>-1))throw new C(l);return this._writableState.defaultEncoding=l,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function te(f,l,b){return!f.objectMode&&f.decodeStrings!==!1&&typeof l=="string"&&(l=a.from(l,b)),l}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(f,l,b,T,j,i){if(!b){var o=te(l,T,j);T!==o&&(b=!0,j="buffer",T=o)}var S=l.objectMode?1:T.length;l.length+=S;var M=l.length<l.highWaterMark;if(M||(l.needDrain=!0),l.writing||l.corked){var W=l.lastBufferedRequest;l.lastBufferedRequest={chunk:T,encoding:j,isBuf:b,callback:i,next:null},W?W.next=l.lastBufferedRequest:l.bufferedRequest=l.lastBufferedRequest,l.bufferedRequestCount+=1}else Z(f,l,!1,S,T,j,i);return M}function Z(f,l,b,T,j,i,o){l.writelen=T,l.writecb=o,l.writing=!0,l.sync=!0,l.destroyed?l.onwrite(new R("write")):b?f._writev(j,l.onwrite):f._write(j,i,l.onwrite),l.sync=!1}function fe(f,l,b,T,j){--l.pendingcb,b?(x.nextTick(j,T),x.nextTick(d,f,l),f._writableState.errorEmitted=!0,O(f,T)):(j(T),f._writableState.errorEmitted=!0,O(f,T),d(f,l))}function le(f){f.writing=!1,f.writecb=null,f.length-=f.writelen,f.writelen=0}function re(f,l){var b=f._writableState,T=b.sync,j=b.writecb;if(typeof j!="function")throw new N;if(le(b),l)fe(f,b,T,l,j);else{var i=K(b)||f.destroyed;!i&&!b.corked&&!b.bufferProcessing&&b.bufferedRequest&&oe(f,b),T?x.nextTick(ie,f,b,i,j):ie(f,b,i,j)}}function ie(f,l,b,T){b||ue(f,l),l.pendingcb--,T(),d(f,l)}function ue(f,l){l.length===0&&l.needDrain&&(l.needDrain=!1,f.emit("drain"))}function oe(f,l){l.bufferProcessing=!0;var b=l.bufferedRequest;if(f._writev&&b&&b.next){var T=l.bufferedRequestCount,j=new Array(T),i=l.corkedRequestsFree;i.entry=b;for(var o=0,S=!0;b;)j[o]=b,b.isBuf||(S=!1),b=b.next,o+=1;j.allBuffers=S,Z(f,l,!0,l.length,j,"",i.finish),l.pendingcb++,l.lastBufferedRequest=null,i.next?(l.corkedRequestsFree=i.next,i.next=null):l.corkedRequestsFree=new t(l),l.bufferedRequestCount=0}else{for(;b;){var M=b.chunk,W=b.encoding,B=b.callback,q=l.objectMode?1:M.length;if(Z(f,l,!1,q,M,W,B),b=b.next,l.bufferedRequestCount--,l.writing)break}b===null&&(l.lastBufferedRequest=null)}l.bufferedRequest=b,l.bufferProcessing=!1}k.prototype._write=function(f,l,b){b(new L("_write()"))},k.prototype._writev=null,k.prototype.end=function(f,l,b){var T=this._writableState;return typeof f=="function"?(b=f,f=null,l=null):typeof l=="function"&&(b=l,l=null),f!=null&&this.write(f,l),T.corked&&(T.corked=1,this.uncork()),T.ending||v(this,T,b),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function K(f){return f.ending&&f.length===0&&f.bufferedRequest===null&&!f.finished&&!f.writing}function ge(f,l){f._final(function(b){l.pendingcb--,b&&O(f,b),l.prefinished=!0,f.emit("prefinish"),d(f,l)})}function ae(f,l){!l.prefinished&&!l.finalCalled&&(typeof f._final=="function"&&!l.destroyed?(l.pendingcb++,l.finalCalled=!0,x.nextTick(ge,f,l)):(l.prefinished=!0,f.emit("prefinish")))}function d(f,l){var b=K(l);if(b&&(ae(f,l),l.pendingcb===0&&(l.finished=!0,f.emit("finish"),l.autoDestroy))){var T=f._readableState;(!T||T.autoDestroy&&T.endEmitted)&&f.destroy()}return b}function v(f,l,b){l.ending=!0,d(f,l),b&&(l.finished?x.nextTick(b):f.once("finish",b)),l.ended=!0,f.writable=!1}function A(f,l,b){var T=f.entry;for(f.entry=null;T;){var j=T.callback;l.pendingcb--,j(b),T=T.next}l.corkedRequestsFree.next=f}return Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(l){this._writableState&&(this._writableState.destroyed=l)}}),k.prototype.destroy=y.destroy,k.prototype._undestroy=y.undestroy,k.prototype._destroy=function(f,l){l(f)},Et}var St,wr;function Ie(){if(wr)return St;wr=1;var t=Object.keys||function(h){var p=[];for(var g in h)p.push(g);return p};St=c;var e=vn(),r=gn();ke(c,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var u=n[a];c.prototype[u]||(c.prototype[u]=r.prototype[u])}function c(h){if(!(this instanceof c))return new c(h);e.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||x.nextTick(y,this)}function y(h){h.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),St}var Rt={},Er;function Sr(){if(Er)return Rt;Er=1;var t=xr.Buffer,e=t.isEncoding||function(s){switch(s=""+s,s&&s.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(s){if(!s)return"utf8";for(var m;;)switch(s){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return s;default:if(m)return;s=(""+s).toLowerCase(),m=!0}}function n(s){var m=r(s);if(typeof m!="string"&&(t.isEncoding===e||!e(s)))throw new Error("Unknown encoding: "+s);return m||s}Rt.StringDecoder=a;function a(s){this.encoding=n(s);var m;switch(this.encoding){case"utf16le":this.text=g,this.end=P,m=4;break;case"utf8":this.fillLast=y,m=4;break;case"base64":this.text=L,this.end=N,m=3;break;default:this.write=E,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(m)}a.prototype.write=function(s){if(s.length===0)return"";var m,C;if(this.lastNeed){if(m=this.fillLast(s),m===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<s.length?m?m+this.text(s,C):this.text(s,C):m||""},a.prototype.end=p,a.prototype.text=h,a.prototype.fillLast=function(s){if(this.lastNeed<=s.length)return s.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);s.copy(this.lastChar,this.lastTotal-this.lastNeed,0,s.length),this.lastNeed-=s.length};function u(s){return s<=127?0:s>>5===6?2:s>>4===14?3:s>>3===30?4:s>>6===2?-1:-2}function c(s,m,C){var O=m.length-1;if(O<C)return 0;var F=u(m[O]);return F>=0?(F>0&&(s.lastNeed=F-1),F):--O<C||F===-2?0:(F=u(m[O]),F>=0?(F>0&&(s.lastNeed=F-2),F):--O<C||F===-2?0:(F=u(m[O]),F>=0?(F>0&&(F===2?F=0:s.lastNeed=F-3),F):0))}function _(s,m,C){if((m[0]&192)!==128)return s.lastNeed=0,"";if(s.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return s.lastNeed=1,"";if(s.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return s.lastNeed=2,""}}function y(s){var m=this.lastTotal-this.lastNeed,C=_(this,s);if(C!==void 0)return C;if(this.lastNeed<=s.length)return s.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);s.copy(this.lastChar,m,0,s.length),this.lastNeed-=s.length}function h(s,m){var C=c(this,s,m);if(!this.lastNeed)return s.toString("utf8",m);this.lastTotal=C;var O=s.length-(C-this.lastNeed);return s.copy(this.lastChar,0,O),s.toString("utf8",m,O)}function p(s){var m=s&&s.length?this.write(s):"";return this.lastNeed?m+"":m}function g(s,m){if((s.length-m)%2===0){var C=s.toString("utf16le",m);if(C){var O=C.charCodeAt(C.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=s[s.length-2],this.lastChar[1]=s[s.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=s[s.length-1],s.toString("utf16le",m,s.length-1)}function P(s){var m=s&&s.length?this.write(s):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,C)}return m}function L(s,m){var C=(s.length-m)%3;return C===0?s.toString("base64",m):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=s[s.length-1]:(this.lastChar[0]=s[s.length-2],this.lastChar[1]=s[s.length-1]),s.toString("base64",m,s.length-C))}function N(s){var m=s&&s.length?this.write(s):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function E(s){return s.toString(this.encoding)}function R(s){return s&&s.length?this.write(s):""}return Rt}var Rr=Ee.codes.ERR_STREAM_PREMATURE_CLOSE;function Mo(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function Fo(){}function Do(t){return t.setHeader&&typeof t.abort=="function"}function bn(t,e,r){if(typeof e=="function")return bn(t,null,e);e||(e={}),r=Mo(r||Fo);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,u=function(){t.writable||_()},c=t._writableState&&t._writableState.finished,_=function(){a=!1,c=!0,n||r.call(t)},y=t._readableState&&t._readableState.endEmitted,h=function(){n=!1,y=!0,a||r.call(t)},p=function(N){r.call(t,N)},g=function(){var N;if(n&&!y)return(!t._readableState||!t._readableState.ended)&&(N=new Rr),r.call(t,N);if(a&&!c)return(!t._writableState||!t._writableState.ended)&&(N=new Rr),r.call(t,N)},P=function(){t.req.on("finish",_)};return Do(t)?(t.on("complete",_),t.on("abort",g),t.req?P():t.on("request",P)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",h),t.on("finish",_),e.error!==!1&&t.on("error",p),t.on("close",g),function(){t.removeListener("complete",_),t.removeListener("abort",g),t.removeListener("request",P),t.req&&t.req.removeListener("finish",_),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",_),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",g)}}var er=bn,At,Ar;function Io(){if(Ar)return At;Ar=1;var t;function e(C,O,F){return O=r(O),O in C?Object.defineProperty(C,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):C[O]=F,C}function r(C){var O=n(C,"string");return typeof O=="symbol"?O:String(O)}function n(C,O){if(typeof C!="object"||C===null)return C;var F=C[Symbol.toPrimitive];if(F!==void 0){var I=F.call(C,O||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(C)}var a=er,u=Symbol("lastResolve"),c=Symbol("lastReject"),_=Symbol("error"),y=Symbol("ended"),h=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function P(C,O){return{value:C,done:O}}function L(C){var O=C[u];if(O!==null){var F=C[g].read();F!==null&&(C[h]=null,C[u]=null,C[c]=null,O(P(F,!1)))}}function N(C){x.nextTick(L,C)}function E(C,O){return function(F,I){C.then(function(){if(O[y]){F(P(void 0,!0));return}O[p](F,I)},I)}}var R=Object.getPrototypeOf(function(){}),s=Object.setPrototypeOf((t={get stream(){return this[g]},next:function(){var O=this,F=this[_];if(F!==null)return Promise.reject(F);if(this[y])return Promise.resolve(P(void 0,!0));if(this[g].destroyed)return new Promise(function(D,z){x.nextTick(function(){O[_]?z(O[_]):D(P(void 0,!0))})});var I=this[h],H;if(I)H=new Promise(E(I,this));else{var k=this[g].read();if(k!==null)return Promise.resolve(P(k,!1));H=new Promise(this[p])}return this[h]=H,H}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var O=this;return new Promise(function(F,I){O[g].destroy(null,function(H){if(H){I(H);return}F(P(void 0,!0))})})}),t),R),m=function(O){var F,I=Object.create(s,(F={},e(F,g,{value:O,writable:!0}),e(F,u,{value:null,writable:!0}),e(F,c,{value:null,writable:!0}),e(F,_,{value:null,writable:!0}),e(F,y,{value:O._readableState.endEmitted,writable:!0}),e(F,p,{value:function(k,D){var z=I[g].read();z?(I[h]=null,I[u]=null,I[c]=null,k(P(z,!1))):(I[u]=k,I[c]=D)},writable:!0}),F));return I[h]=null,a(O,function(H){if(H&&H.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=I[c];k!==null&&(I[h]=null,I[u]=null,I[c]=null,k(H)),I[_]=H;return}var D=I[u];D!==null&&(I[h]=null,I[u]=null,I[c]=null,D(P(void 0,!0))),I[y]=!0}),O.on("readable",N.bind(null,I)),I};return At=m,At}var Ct,Cr;function Lo(){return Cr||(Cr=1,Ct=function(){throw new Error("Readable.from is not available in the browser")}),Ct}var Tt,Tr;function vn(){if(Tr)return Tt;Tr=1,Tt=D;var t;D.ReadableState=k,Yr.EventEmitter;var e=function(o,S){return o.listeners(S).length},r=Kr,n=$e.Buffer,a=(typeof se<"u"?se:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(i){return n.from(i)}function c(i){return n.isBuffer(i)||i instanceof a}var _=zt,y;_&&_.debuglog?y=_.debuglog("stream"):y=function(){};var h=_o(),p=hn,g=yn,P=g.getHighWaterMark,L=Ee.codes,N=L.ERR_INVALID_ARG_TYPE,E=L.ERR_STREAM_PUSH_AFTER_EOF,R=L.ERR_METHOD_NOT_IMPLEMENTED,s=L.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,C,O;ke(D,r);var F=p.errorOrDestroy,I=["error","close","destroy","pause","resume"];function H(i,o,S){if(typeof i.prependListener=="function")return i.prependListener(o,S);!i._events||!i._events[o]?i.on(o,S):Array.isArray(i._events[o])?i._events[o].unshift(S):i._events[o]=[S,i._events[o]]}function k(i,o,S){t=t||Ie(),i=i||{},typeof S!="boolean"&&(S=o instanceof t),this.objectMode=!!i.objectMode,S&&(this.objectMode=this.objectMode||!!i.readableObjectMode),this.highWaterMark=P(this,i,"readableHighWaterMark",S),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.destroyed=!1,this.defaultEncoding=i.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,i.encoding&&(m||(m=Sr().StringDecoder),this.decoder=new m(i.encoding),this.encoding=i.encoding)}function D(i){if(t=t||Ie(),!(this instanceof D))return new D(i);var o=this instanceof t;this._readableState=new k(i,this,o),this.readable=!0,i&&(typeof i.read=="function"&&(this._read=i.read),typeof i.destroy=="function"&&(this._destroy=i.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(o){this._readableState&&(this._readableState.destroyed=o)}}),D.prototype.destroy=p.destroy,D.prototype._undestroy=p.undestroy,D.prototype._destroy=function(i,o){o(i)},D.prototype.push=function(i,o){var S=this._readableState,M;return S.objectMode?M=!0:typeof i=="string"&&(o=o||S.defaultEncoding,o!==S.encoding&&(i=n.from(i,o),o=""),M=!0),z(this,i,o,!1,M)},D.prototype.unshift=function(i){return z(this,i,null,!0,!1)};function z(i,o,S,M,W){y("readableAddChunk",o);var B=i._readableState;if(o===null)B.reading=!1,re(i,B);else{var q;if(W||(q=X(B,o)),q)F(i,q);else if(B.objectMode||o&&o.length>0)if(typeof o!="string"&&!B.objectMode&&Object.getPrototypeOf(o)!==n.prototype&&(o=u(o)),M)B.endEmitted?F(i,new s):te(i,B,o,!0);else if(B.ended)F(i,new E);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!S?(o=B.decoder.write(o),B.objectMode||o.length!==0?te(i,B,o,!1):oe(i,B)):te(i,B,o,!1)}else M||(B.reading=!1,oe(i,B))}return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function te(i,o,S,M){o.flowing&&o.length===0&&!o.sync?(o.awaitDrain=0,i.emit("data",S)):(o.length+=o.objectMode?1:S.length,M?o.buffer.unshift(S):o.buffer.push(S),o.needReadable&&ie(i)),oe(i,o)}function X(i,o){var S;return!c(o)&&typeof o!="string"&&o!==void 0&&!i.objectMode&&(S=new N("chunk",["string","Buffer","Uint8Array"],o)),S}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(i){m||(m=Sr().StringDecoder);var o=new m(i);this._readableState.decoder=o,this._readableState.encoding=this._readableState.decoder.encoding;for(var S=this._readableState.buffer.head,M="";S!==null;)M+=o.write(S.data),S=S.next;return this._readableState.buffer.clear(),M!==""&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var Z=1073741824;function fe(i){return i>=Z?i=Z:(i--,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i++),i}function le(i,o){return i<=0||o.length===0&&o.ended?0:o.objectMode?1:i!==i?o.flowing&&o.length?o.buffer.head.data.length:o.length:(i>o.highWaterMark&&(o.highWaterMark=fe(i)),i<=o.length?i:o.ended?o.length:(o.needReadable=!0,0))}D.prototype.read=function(i){y("read",i),i=parseInt(i,10);var o=this._readableState,S=i;if(i!==0&&(o.emittedReadable=!1),i===0&&o.needReadable&&((o.highWaterMark!==0?o.length>=o.highWaterMark:o.length>0)||o.ended))return y("read: emitReadable",o.length,o.ended),o.length===0&&o.ended?b(this):ie(this),null;if(i=le(i,o),i===0&&o.ended)return o.length===0&&b(this),null;var M=o.needReadable;y("need readable",M),(o.length===0||o.length-i<o.highWaterMark)&&(M=!0,y("length less than watermark",M)),o.ended||o.reading?(M=!1,y("reading or ended",M)):M&&(y("do read"),o.reading=!0,o.sync=!0,o.length===0&&(o.needReadable=!0),this._read(o.highWaterMark),o.sync=!1,o.reading||(i=le(S,o)));var W;return i>0?W=l(i,o):W=null,W===null?(o.needReadable=o.length<=o.highWaterMark,i=0):(o.length-=i,o.awaitDrain=0),o.length===0&&(o.ended||(o.needReadable=!0),S!==i&&o.ended&&b(this)),W!==null&&this.emit("data",W),W};function re(i,o){if(y("onEofChunk"),!o.ended){if(o.decoder){var S=o.decoder.end();S&&S.length&&(o.buffer.push(S),o.length+=o.objectMode?1:S.length)}o.ended=!0,o.sync?ie(i):(o.needReadable=!1,o.emittedReadable||(o.emittedReadable=!0,ue(i)))}}function ie(i){var o=i._readableState;y("emitReadable",o.needReadable,o.emittedReadable),o.needReadable=!1,o.emittedReadable||(y("emitReadable",o.flowing),o.emittedReadable=!0,x.nextTick(ue,i))}function ue(i){var o=i._readableState;y("emitReadable_",o.destroyed,o.length,o.ended),!o.destroyed&&(o.length||o.ended)&&(i.emit("readable"),o.emittedReadable=!1),o.needReadable=!o.flowing&&!o.ended&&o.length<=o.highWaterMark,f(i)}function oe(i,o){o.readingMore||(o.readingMore=!0,x.nextTick(K,i,o))}function K(i,o){for(;!o.reading&&!o.ended&&(o.length<o.highWaterMark||o.flowing&&o.length===0);){var S=o.length;if(y("maybeReadMore read 0"),i.read(0),S===o.length)break}o.readingMore=!1}D.prototype._read=function(i){F(this,new R("_read()"))},D.prototype.pipe=function(i,o){var S=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=i;break;case 1:M.pipes=[M.pipes,i];break;default:M.pipes.push(i);break}M.pipesCount+=1,y("pipe count=%d opts=%j",M.pipesCount,o);var W=(!o||o.end!==!1)&&i!==x.stdout&&i!==x.stderr,B=W?be:Be;M.endEmitted?x.nextTick(B):S.once("end",B),i.on("unpipe",q);function q(Se,Re){y("onunpipe"),Se===S&&Re&&Re.hasUnpiped===!1&&(Re.hasUnpiped=!0,tr())}function be(){y("onend"),i.end()}var w=ge(S);i.on("drain",w);var qe=!1;function tr(){y("cleanup"),i.removeListener("close",ft),i.removeListener("finish",lt),i.removeListener("drain",w),i.removeListener("error",st),i.removeListener("unpipe",q),S.removeListener("end",be),S.removeListener("end",Be),S.removeListener("data",rr),qe=!0,M.awaitDrain&&(!i._writableState||i._writableState.needDrain)&&w()}S.on("data",rr);function rr(Se){y("ondata");var Re=i.write(Se);y("dest.write",Re),Re===!1&&((M.pipesCount===1&&M.pipes===i||M.pipesCount>1&&j(M.pipes,i)!==-1)&&!qe&&(y("false write response, pause",M.awaitDrain),M.awaitDrain++),S.pause())}function st(Se){y("onerror",Se),Be(),i.removeListener("error",st),e(i,"error")===0&&F(i,Se)}H(i,"error",st);function ft(){i.removeListener("finish",lt),Be()}i.once("close",ft);function lt(){y("onfinish"),i.removeListener("close",ft),Be()}i.once("finish",lt);function Be(){y("unpipe"),S.unpipe(i)}return i.emit("pipe",S),M.flowing||(y("pipe resume"),S.resume()),i};function ge(i){return function(){var S=i._readableState;y("pipeOnDrain",S.awaitDrain),S.awaitDrain&&S.awaitDrain--,S.awaitDrain===0&&e(i,"data")&&(S.flowing=!0,f(i))}}D.prototype.unpipe=function(i){var o=this._readableState,S={hasUnpiped:!1};if(o.pipesCount===0)return this;if(o.pipesCount===1)return i&&i!==o.pipes?this:(i||(i=o.pipes),o.pipes=null,o.pipesCount=0,o.flowing=!1,i&&i.emit("unpipe",this,S),this);if(!i){var M=o.pipes,W=o.pipesCount;o.pipes=null,o.pipesCount=0,o.flowing=!1;for(var B=0;B<W;B++)M[B].emit("unpipe",this,{hasUnpiped:!1});return this}var q=j(o.pipes,i);return q===-1?this:(o.pipes.splice(q,1),o.pipesCount-=1,o.pipesCount===1&&(o.pipes=o.pipes[0]),i.emit("unpipe",this,S),this)},D.prototype.on=function(i,o){var S=r.prototype.on.call(this,i,o),M=this._readableState;return i==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):i==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,y("on readable",M.length,M.reading),M.length?ie(this):M.reading||x.nextTick(d,this)),S},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(i,o){var S=r.prototype.removeListener.call(this,i,o);return i==="readable"&&x.nextTick(ae,this),S},D.prototype.removeAllListeners=function(i){var o=r.prototype.removeAllListeners.apply(this,arguments);return(i==="readable"||i===void 0)&&x.nextTick(ae,this),o};function ae(i){var o=i._readableState;o.readableListening=i.listenerCount("readable")>0,o.resumeScheduled&&!o.paused?o.flowing=!0:i.listenerCount("data")>0&&i.resume()}function d(i){y("readable nexttick read 0"),i.read(0)}D.prototype.resume=function(){var i=this._readableState;return i.flowing||(y("resume"),i.flowing=!i.readableListening,v(this,i)),i.paused=!1,this};function v(i,o){o.resumeScheduled||(o.resumeScheduled=!0,x.nextTick(A,i,o))}function A(i,o){y("resume",o.reading),o.reading||i.read(0),o.resumeScheduled=!1,i.emit("resume"),f(i),o.flowing&&!o.reading&&i.read(0)}D.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function f(i){var o=i._readableState;for(y("flow",o.flowing);o.flowing&&i.read()!==null;);}D.prototype.wrap=function(i){var o=this,S=this._readableState,M=!1;i.on("end",function(){if(y("wrapped end"),S.decoder&&!S.ended){var q=S.decoder.end();q&&q.length&&o.push(q)}o.push(null)}),i.on("data",function(q){if(y("wrapped data"),S.decoder&&(q=S.decoder.write(q)),!(S.objectMode&&q==null)&&!(!S.objectMode&&(!q||!q.length))){var be=o.push(q);be||(M=!0,i.pause())}});for(var W in i)this[W]===void 0&&typeof i[W]=="function"&&(this[W]=function(be){return function(){return i[be].apply(i,arguments)}}(W));for(var B=0;B<I.length;B++)i.on(I[B],this.emit.bind(this,I[B]));return this._read=function(q){y("wrapped _read",q),M&&(M=!1,i.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=Io()),C(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(o){this._readableState&&(this._readableState.flowing=o)}}),D._fromList=l,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function l(i,o){if(o.length===0)return null;var S;return o.objectMode?S=o.buffer.shift():!i||i>=o.length?(o.decoder?S=o.buffer.join(""):o.buffer.length===1?S=o.buffer.first():S=o.buffer.concat(o.length),o.buffer.clear()):S=o.buffer.consume(i,o.decoder),S}function b(i){var o=i._readableState;y("endReadable",o.endEmitted),o.endEmitted||(o.ended=!0,x.nextTick(T,o,i))}function T(i,o){if(y("endReadableNT",i.endEmitted,i.length),!i.endEmitted&&i.length===0&&(i.endEmitted=!0,o.readable=!1,o.emit("end"),i.autoDestroy)){var S=o._writableState;(!S||S.autoDestroy&&S.finished)&&o.destroy()}}typeof Symbol=="function"&&(D.from=function(i,o){return O===void 0&&(O=Lo()),O(D,i,o)});function j(i,o){for(var S=0,M=i.length;S<M;S++)if(i[S]===o)return S;return-1}return Tt}var _n=pe,ot=Ee.codes,ko=ot.ERR_METHOD_NOT_IMPLEMENTED,Bo=ot.ERR_MULTIPLE_CALLBACK,xo=ot.ERR_TRANSFORM_ALREADY_TRANSFORMING,Uo=ot.ERR_TRANSFORM_WITH_LENGTH_0,at=Ie();ke(pe,at);function $o(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Bo);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function pe(t){if(!(this instanceof pe))return new pe(t);at.call(this,t),this._transformState={afterTransform:$o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Wo)}function Wo(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Or(t,e,r)}):Or(this,null,null)}pe.prototype.push=function(t,e){return this._transformState.needTransform=!1,at.prototype.push.call(this,t,e)};pe.prototype._transform=function(t,e,r){r(new ko("_transform()"))};pe.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};pe.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};pe.prototype._destroy=function(t,e){at.prototype._destroy.call(this,t,function(r){e(r)})};function Or(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Uo;if(t._transformState.transforming)throw new xo;return t.push(null)}var qo=Ue,mn=_n;ke(Ue,mn);function Ue(t){if(!(this instanceof Ue))return new Ue(t);mn.call(this,t)}Ue.prototype._transform=function(t,e,r){r(null,t)};var Ot;function Go(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var wn=Ee.codes,Ho=wn.ERR_MISSING_ARGS,Vo=wn.ERR_STREAM_DESTROYED;function Pr(t){if(t)throw t}function zo(t){return t.setHeader&&typeof t.abort=="function"}function Yo(t,e,r,n){n=Go(n);var a=!1;t.on("close",function(){a=!0}),Ot===void 0&&(Ot=er),Ot(t,{readable:e,writable:r},function(c){if(c)return n(c);a=!0,n()});var u=!1;return function(c){if(!a&&!u){if(u=!0,zo(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(c||new Vo("pipe"))}}}function Nr(t){t()}function Ko(t,e){return t.pipe(e)}function Jo(t){return!t.length||typeof t[t.length-1]!="function"?Pr:t.pop()}function Xo(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Jo(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Ho("streams");var a,u=e.map(function(c,_){var y=_<e.length-1,h=_>0;return Yo(c,y,h,function(p){a||(a=p),p&&u.forEach(Nr),!y&&(u.forEach(Nr),n(a))})});return e.reduce(Ko)}var Zo=Xo;(function(t,e){e=t.exports=vn(),e.Stream=e,e.Readable=e,e.Writable=gn(),e.Duplex=Ie(),e.Transform=_n,e.PassThrough=qo,e.finished=er,e.pipeline=Zo})(Lt,Lt.exports);var Qo=Lt.exports;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let jr;var ea=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:se):t=>(jr||(jr=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0));function Mr(t,e){for(const r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function ta(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return Mr(t,r)}catch{r.message=t.message,r.stack=t.stack;const a=function(){};return a.prototype=Object.create(Object.getPrototypeOf(t)),Mr(new a,r)}}var ra=ta;/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const na=Bn("simple-peer"),En=xn,Fr=Gn,ia=Qo,Pt=ea,$=ra,{Buffer:oa}=$e,Nt=64*1024,aa=5*1e3,sa=5*1e3;function Dr(t){return t.replace(/a=ice-options:trickle\s\n/g,"")}function fa(t){console.warn(t)}class we extends ia.Duplex{constructor(e){if(e=Object.assign({allowHalfOpen:!1},e),super(e),this._id=Fr(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||Fr(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||we.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},we.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(r=>r),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=e.trickle!==void 0?e.trickle:!0,this.allowHalfTrickle=e.allowHalfTrickle!==void 0?e.allowHalfTrickle:!1,this.iceCompleteTimeout=e.iceCompleteTimeout||aa,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&typeof e.wrtc=="object"?e.wrtc:En(),!this._wrtc)throw $(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(r){this.destroy($(r,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(r=>{this.destroy($(r,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this.streams&&this.streams.forEach(r=>{this.addStream(r)}),this._pc.ontrack=r=>{this._onTrack(r)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof e=="string")try{e=JSON.parse(e)}catch{e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.destroy($(r,"ERR_SET_REMOTE_DESCRIPTION"))}),!e.sdp&&!e.candidate&&!e.renegotiate&&!e.transceiverRequest&&this.destroy($(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const r=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(r).catch(n=>{!r.address||r.address.endsWith(".local")?fa("Ignoring unsupported ICE candidate."):this.destroy($(n,"ERR_ADD_ICE_CANDIDATE"))})}send(e){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,r){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,r),this._needsNegotiation()}catch(n){this.destroy($(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:r}})}}addStream(e){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach(r=>{this.addTrack(r,e)})}}addTrack(e,r){if(this.destroying)return;if(this.destroyed)throw $(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const n=this._senderMap.get(e)||new Map;let a=n.get(r);if(!a)a=this._pc.addTrack(e,r),n.set(r,a),this._senderMap.set(e,n),this._needsNegotiation();else throw a.removed?$(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):$(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(e,r,n){if(this.destroying)return;if(this.destroyed)throw $(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const a=this._senderMap.get(e),u=a?a.get(n):null;if(!u)throw $(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");r&&this._senderMap.set(r,a),u.replaceTrack!=null?u.replaceTrack(r):this.destroy($(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,r){if(this.destroying)return;if(this.destroyed)throw $(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const n=this._senderMap.get(e),a=n?n.get(r):null;if(!a)throw $(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{a.removed=!0,this._pc.removeTrack(a)}catch(u){u.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(a):this.destroy($(u,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach(r=>{this.removeTrack(r,e)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,Pt(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw $(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,()=>{})}_destroy(e,r){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),Pt(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),r()}))}_setupData(e){if(!e.channel)return this.destroy($(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=Nt),this.channelName=this._channel.label,this._channel.onmessage=n=>{this._onChannelMessage(n)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=n=>{const a=n.error instanceof Error?n.error:new Error(`Datachannel error: ${n.message} ${n.filename}:${n.lineno}:${n.colno}`);this.destroy($(a,"ERR_DATA_CHANNEL"))};let r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},sa)}_read(){}_write(e,r,n){if(this.destroyed)return n($(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(a){return this.destroy($(a,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>Nt?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=Dr(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const r=()=>{if(this.destroyed)return;const u=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:u.type,sdp:u.sdp})},n=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},a=u=>{this.destroy($(u,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(n).catch(a)}).catch(e=>{this.destroy($(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{!e.mid&&e.sender.track&&!e.requested&&(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=Dr(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const r=()=>{if(this.destroyed)return;const u=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:u.type,sdp:u.sdp}),this.initiator||this._requestMissingTransceivers()},n=()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},a=u=>{this.destroy($(u,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(n).catch(a)}).catch(e=>{this.destroy($(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy($(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const e=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,r),this.emit("iceStateChange",e,r),(e==="connected"||e==="completed")&&(this._pcReady=!0,this._maybeReady()),e==="failed"&&this.destroy($(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),e==="closed"&&this.destroy($(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(e){const r=n=>(Object.prototype.toString.call(n.values)==="[object Array]"&&n.values.forEach(a=>{Object.assign(n,a)}),n);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{const a=[];n.forEach(u=>{a.push(r(u))}),e(null,a)},n=>e(n)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(this.destroyed)return;const a=[];n.result().forEach(u=>{const c={};u.names().forEach(_=>{c[_]=u.stat(_)}),c.id=u.id,c.type=u.type,c.timestamp=u.timestamp,a.push(r(c))}),e(null,a)},n=>e(n)):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats((r,n)=>{if(this.destroyed)return;r&&(n=[]);const a={},u={},c={};let _=!1;n.forEach(h=>{(h.type==="remotecandidate"||h.type==="remote-candidate")&&(a[h.id]=h),(h.type==="localcandidate"||h.type==="local-candidate")&&(u[h.id]=h),(h.type==="candidatepair"||h.type==="candidate-pair")&&(c[h.id]=h)});const y=h=>{_=!0;let p=u[h.localCandidateId];p&&(p.ip||p.address)?(this.localAddress=p.ip||p.address,this.localPort=Number(p.port)):p&&p.ipAddress?(this.localAddress=p.ipAddress,this.localPort=Number(p.portNumber)):typeof h.googLocalAddress=="string"&&(p=h.googLocalAddress.split(":"),this.localAddress=p[0],this.localPort=Number(p[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let g=a[h.remoteCandidateId];g&&(g.ip||g.address)?(this.remoteAddress=g.ip||g.address,this.remotePort=Number(g.port)):g&&g.ipAddress?(this.remoteAddress=g.ipAddress,this.remotePort=Number(g.portNumber)):typeof h.googRemoteAddress=="string"&&(g=h.googRemoteAddress.split(":"),this.remoteAddress=g[0],this.remotePort=Number(g[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach(h=>{h.type==="transport"&&h.selectedCandidatePairId&&y(c[h.selectedCandidatePairId]),(h.type==="googCandidatePair"&&h.googActiveConnection==="true"||(h.type==="candidatepair"||h.type==="candidate-pair")&&h.selected)&&y(h)}),!_&&(!Object.keys(c).length||Object.keys(u).length)){setTimeout(e,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(p){return this.destroy($(p,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const h=this._cb;this._cb=null,h(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>Nt||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):!e.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(this.destroyed)return;let r=e.data;r instanceof ArrayBuffer&&(r=oa.from(r)),this.push(r)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(r=>{this._debug("on track"),this.emit("track",e.track,r),this._remoteTracks.push({track:e.track,stream:r}),!this._remoteStreams.some(n=>n.id===r.id)&&(this._remoteStreams.push(r),Pt(()=>{this._debug("on stream"),this.emit("stream",r)}))})}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],na.apply(null,e)}}we.WEBRTC_SUPPORT=!!En();we.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};we.channelConfig={};var la=we;const ua=An(la),ee={};let Te,Oe;const da=()=>{const t=Cn(),{load:e,stop:r}=Tn(),{user:n,setCalling:a}=Ge.useContext(On),[u,c]=Ge.useState(0),{phone:_,type:y}=Pn(),[h,p]=Ge.useState();Ge.useEffect(()=>(a(!0),!_||_==="null"?ut.fire({icon:"error",text:"PhoneNumber Error.",confirmButtonText:"",didClose:()=>{t(-1)}}):(N(_),g()),()=>{Te&&Te.getTracks().forEach(E=>{E.stop()}),P(),r(),a(!1)}),[_]);const g=async()=>{try{Te=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),y==="send"?(e("/sounds/ringing.mp3",{autoplay:!0,loop:!0}),Q.emit("c2s-call",{to:_,userId:n==null?void 0:n.id}),Q.on("s2c-receive",({socketId:E})=>{r(),console.log("Reived: "+E),L({socketId:E,stream:Te,initiator:!0})}),Q.on("s2c-reject",()=>{e("/sounds/beep.wav",{autoplay:!0,loop:!0}),c(2)})):y==="receive"&&Q.emit("c2s-accept",{to:_,userId:n==null?void 0:n.id}),Q.on("s2c-init",({socketId:E})=>{L({socketId:E,initiator:!1,stream:Te}),console.log("Join Add Peer:"+E)}),Q.on("s2c-leave",({from:E})=>{e("/sounds/beep.wav",{autoplay:!0,loop:!0}),c(2),ee[E].destroy()}),Q.on("s2c-signal",({signal:E,from:R})=>{Oe=R,console.log("Signal recieved: ",{from:R,signal:E}),ee[R]||L({socketId:R,stream:Te,initiator:!1}),ee[R].signal(E),c(1)})}catch(E){const R=E instanceof Error?E.message:E;ut.fire({icon:"error",text:R,confirmButtonText:"",didClose:()=>{t(-1)}})}},P=()=>{Oe&&!ee[Oe].destroyed&&ee[Oe].destroy(),console.log(h),Oe&&Q.emit("c2s-leave",{to:Oe}),u===0&&Q.emit("c2s-cancel",{toPhone:_}),Q.off("s2c-receive"),Q.off("s2c-reject"),Q.off("s2c-leave")},L=({socketId:E,initiator:R,stream:s})=>{E&&(ee[E]=new ua({initiator:R,trickle:!1,stream:s,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"}]}}),ee[E].on("close",()=>{ee[E].destroy()}),ee[E].on("connect",()=>{console.log("Peer connected:",E)}),ee[E].on("close",()=>{ee[E].destroy()}),console.log("Adding peer : ",{socketId:E}),ee[E].on("signal",m=>{console.log("Signal : ",{socketId:E,initiator:R,data:m,stream:s}),Q.emit("c2s-signal",{signal:m,to:E})}),ee[E].on("stream",m=>{console.log("Received Stream : ",{data:m});const C=document.getElementById("videos"),O=document.createElement("audio");O.srcObject=m,O.id=E,O.autoplay=!0,C==null||C.appendChild(O)}))},N=async E=>{try{const{data:R}=await Nn.get("/contacts/"+E);p(R)}catch(R){const s=R instanceof Error?R.message:R;ut.fire({icon:"error",text:s,confirmButtonText:""})}};return J.jsxs("div",{className:"container-primary",children:[J.jsxs("div",{className:"bg-[#AA8899] p-4",children:[J.jsx("div",{className:"flex justify-center",children:J.jsx("img",{src:"/rsc/call_pic.jpg",className:"w-28 h-2w-28 rounded-full",alt:""})}),J.jsx("div",{className:"text-white text-2xl mt-4 text-center",children:u===0?J.jsxs("span",{children:["",J.jsx("br",{})," "]}):u===1?"Connect":"disconnect"})]}),J.jsxs("div",{className:"h-full flex items-center justify-center flex-col text-gray-600",children:[J.jsx("div",{className:"text-2xl font-bold",children:h==null?void 0:h.name}),J.jsx("div",{className:"text-3xl",children:_}),J.jsx("div",{className:"text-2xl",children:h==null?void 0:h.email}),J.jsx("div",{className:"text-2xl capitalize",children:h==null?void 0:h.type}),J.jsx("div",{id:"videos"})]}),J.jsx("div",{className:"bg-[#AA8899] p-8 flex flex-col justify-center",children:J.jsx("div",{className:"flex justify-center mt-8",children:J.jsx("button",{onClick:()=>{t(-1)},className:"red-grad-bg px-8 py-2 w-full text-2xl rounded-md shadow-lg text-white font-bold",children:" "})})})]})};export{da as default};
