import{g as Sn,d as En,c as ae,b as Rn,e as An,u as Cn,f as Tn,r as qe,A as On,h as Pn,S as ut,s as Q,a as Nn,j as Y}from"./index-ecL4DuYd.js";function jn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ir={exports:{}},V=Ir.exports={},ue,ce;function jt(){throw new Error("setTimeout has not been defined")}function Mt(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ue=setTimeout:ue=jt}catch{ue=jt}try{typeof clearTimeout=="function"?ce=clearTimeout:ce=Mt}catch{ce=Mt}})();function Lr(t){if(ue===setTimeout)return setTimeout(t,0);if((ue===jt||!ue)&&setTimeout)return ue=setTimeout,setTimeout(t,0);try{return ue(t,0)}catch{try{return ue.call(null,t,0)}catch{return ue.call(this,t,0)}}}function Mn(t){if(ce===clearTimeout)return clearTimeout(t);if((ce===Mt||!ce)&&clearTimeout)return ce=clearTimeout,clearTimeout(t);try{return ce(t)}catch{try{return ce.call(null,t)}catch{return ce.call(this,t)}}}var de=[],je=!1,ve,Ge=-1;function Fn(){!je||!ve||(je=!1,ve.length?de=ve.concat(de):Ge=-1,de.length&&Dr())}function Dr(){if(!je){var t=Lr(Fn);je=!0;for(var e=de.length;e;){for(ve=de,de=[];++Ge<e;)ve&&ve[Ge].run();Ge=-1,e=de.length}ve=null,je=!1,Mn(t)}}V.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];de.push(new kr(t,e)),de.length===1&&!je&&Lr(Dr)};function kr(t,e){this.fun=t,this.array=e}kr.prototype.run=function(){this.fun.apply(null,this.array)};V.title="browser";V.browser=!0;V.env={};V.argv=[];V.version="";V.versions={};function pe(){}V.on=pe;V.addListener=pe;V.once=pe;V.off=pe;V.removeListener=pe;V.removeAllListeners=pe;V.emit=pe;V.prependListener=pe;V.prependOnceListener=pe;V.listeners=function(t){return[]};V.binding=function(t){throw new Error("process.binding is not supported")};V.cwd=function(){return"/"};V.chdir=function(t){throw new Error("process.chdir is not supported")};V.umask=function(){return 0};var In=Ir.exports;const x=jn(In);var Ft={exports:{}},ct,nr;function Ln(){if(nr)return ct;nr=1;var t=1e3,e=t*60,r=e*60,n=r*24,a=n*7,u=n*365.25;ct=function(c,y){y=y||{};var C=typeof c;if(C==="string"&&c.length>0)return d(c);if(C==="number"&&isFinite(c))return y.long?p(c):v(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function d(c){if(c=String(c),!(c.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(y){var C=parseFloat(y[1]),D=(y[2]||"ms").toLowerCase();switch(D){case"years":case"year":case"yrs":case"yr":case"y":return C*u;case"weeks":case"week":case"w":return C*a;case"days":case"day":case"d":return C*n;case"hours":case"hour":case"hrs":case"hr":case"h":return C*r;case"minutes":case"minute":case"mins":case"min":case"m":return C*e;case"seconds":case"second":case"secs":case"sec":case"s":return C*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}function v(c){var y=Math.abs(c);return y>=n?Math.round(c/n)+"d":y>=r?Math.round(c/r)+"h":y>=e?Math.round(c/e)+"m":y>=t?Math.round(c/t)+"s":c+"ms"}function p(c){var y=Math.abs(c);return y>=n?w(c,y,n,"day"):y>=r?w(c,y,r,"hour"):y>=e?w(c,y,e,"minute"):y>=t?w(c,y,t,"second"):c+" ms"}function w(c,y,C,D){var N=y>=C*1.5;return Math.round(c/C)+" "+D+(N?"s":"")}return ct}function Dn(t){r.debug=r,r.default=r,r.coerce=p,r.disable=u,r.enable=a,r.enabled=d,r.humanize=Ln(),r.destroy=w,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let y=0;for(let C=0;C<c.length;C++)y=(y<<5)-y+c.charCodeAt(C),y|=0;return r.colors[Math.abs(y)%r.colors.length]}r.selectColor=e;function r(c){let y,C=null,D,N;function S(...R){if(!S.enabled)return;const s=S,_=Number(new Date),T=_-(y||_);s.diff=T,s.prev=y,s.curr=_,y=_,R[0]=r.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let P=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(L,G)=>{if(L==="%%")return"%";P++;const k=r.formatters[G];if(typeof k=="function"){const I=R[P];L=k.call(s,I),R.splice(P,1),P--}return L}),r.formatArgs.call(s,R),(s.log||r.log).apply(s,R)}return S.namespace=c,S.useColors=r.useColors(),S.color=r.selectColor(c),S.extend=n,S.destroy=r.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>C!==null?C:(D!==r.namespaces&&(D=r.namespaces,N=r.enabled(c)),N),set:R=>{C=R}}),typeof r.init=="function"&&r.init(S),S}function n(c,y){const C=r(this.namespace+(typeof y>"u"?":":y)+c);return C.log=this.log,C}function a(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let y;const C=(typeof c=="string"?c:"").split(/[\s,]+/),D=C.length;for(y=0;y<D;y++)C[y]&&(c=C[y].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function u(){const c=[...r.names.map(v),...r.skips.map(v).map(y=>"-"+y)].join(",");return r.enable(""),c}function d(c){if(c[c.length-1]==="*")return!0;let y,C;for(y=0,C=r.skips.length;y<C;y++)if(r.skips[y].test(c))return!1;for(y=0,C=r.names.length;y<C;y++)if(r.names[y].test(c))return!0;return!1}function v(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function p(c){return c instanceof Error?c.stack||c.message:c}function w(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var kn=Dn;(function(t,e){var r={};e.formatArgs=a,e.save=u,e.load=d,e.useColors=n,e.storage=v(),e.destroy=(()=>{let w=!1;return()=>{w||(w=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(w){if(w[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+w[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;w.splice(1,0,c,"color: inherit");let y=0,C=0;w[0].replace(/%[a-zA-Z%]/g,D=>{D!=="%%"&&(y++,D==="%c"&&(C=y))}),w.splice(C,0,c)}e.log=console.debug||console.log||(()=>{});function u(w){try{w?e.storage.setItem("debug",w):e.storage.removeItem("debug")}catch{}}function d(){let w;try{w=e.storage.getItem("debug")}catch{}return!w&&typeof x<"u"&&"env"in x&&(w=r.DEBUG),w}function v(){try{return localStorage}catch{}}t.exports=kn(e);const{formatters:p}=t.exports;p.j=function(w){try{return JSON.stringify(w)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Ft,Ft.exports);var Bn=Ft.exports,xn=function(){if(typeof globalThis>"u")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null},It={exports:{}},Lt={exports:{}};const rt=Sn(En);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=rt,n=r.Buffer;function a(d,v){for(var p in d)v[p]=d[p]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=u);function u(d,v,p){return n(d,v,p)}u.prototype=Object.create(n.prototype),a(n,u),u.from=function(d,v,p){if(typeof d=="number")throw new TypeError("Argument must not be a number");return n(d,v,p)},u.alloc=function(d,v,p){if(typeof d!="number")throw new TypeError("Argument must be a number");var w=n(d);return v!==void 0?typeof p=="string"?w.fill(v,p):w.fill(v):w.fill(0),w},u.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return n(d)},u.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(d)}})(Lt,Lt.exports);var Br=Lt.exports,dt=65536,Un=4294967295;function $n(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Wn=Br.Buffer,Xe=ae.crypto||ae.msCrypto;Xe&&Xe.getRandomValues?It.exports=qn:It.exports=$n;function qn(t,e){if(t>Un)throw new RangeError("requested too many random bytes");var r=Wn.allocUnsafe(t);if(t>0)if(t>dt)for(var n=0;n<t;n+=dt)Xe.getRandomValues(r.slice(n,n+dt));else Xe.getRandomValues(r);return typeof e=="function"?x.nextTick(function(){e(null,r)}):r}var Gn=It.exports,Dt={exports:{}},Vt={exports:{}},Me=typeof Reflect=="object"?Reflect:null,ir=Me&&typeof Me.apply=="function"?Me.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},He;Me&&typeof Me.ownKeys=="function"?He=Me.ownKeys:Object.getOwnPropertySymbols?He=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:He=function(e){return Object.getOwnPropertyNames(e)};function Hn(t){console&&console.warn&&console.warn(t)}var xr=Number.isNaN||function(e){return e!==e};function q(){q.init.call(this)}Vt.exports=q;Vt.exports.once=Jn;q.EventEmitter=q;q.prototype._events=void 0;q.prototype._eventsCount=0;q.prototype._maxListeners=void 0;var or=10;function nt(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(q,"defaultMaxListeners",{enumerable:!0,get:function(){return or},set:function(t){if(typeof t!="number"||t<0||xr(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");or=t}});q.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};q.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||xr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ur(t){return t._maxListeners===void 0?q.defaultMaxListeners:t._maxListeners}q.prototype.getMaxListeners=function(){return Ur(this)};q.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=e==="error",u=this._events;if(u!==void 0)a=a&&u.error===void 0;else if(!a)return!1;if(a){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var v=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw v.context=d,v}var p=u[e];if(p===void 0)return!1;if(typeof p=="function")ir(p,this,r);else for(var w=p.length,c=Hr(p,w),n=0;n<w;++n)ir(c[n],this,r);return!0};function $r(t,e,r,n){var a,u,d;if(nt(r),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),u=t._events),d=u[e]),d===void 0)d=u[e]=r,++t._eventsCount;else if(typeof d=="function"?d=u[e]=n?[r,d]:[d,r]:n?d.unshift(r):d.push(r),a=Ur(t),a>0&&d.length>a&&!d.warned){d.warned=!0;var v=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");v.name="MaxListenersExceededWarning",v.emitter=t,v.type=e,v.count=d.length,Hn(v)}return t}q.prototype.addListener=function(e,r){return $r(this,e,r,!1)};q.prototype.on=q.prototype.addListener;q.prototype.prependListener=function(e,r){return $r(this,e,r,!0)};function Vn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Wr(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=Vn.bind(n);return a.listener=r,n.wrapFn=a,a}q.prototype.once=function(e,r){return nt(r),this.on(e,Wr(this,e,r)),this};q.prototype.prependOnceListener=function(e,r){return nt(r),this.prependListener(e,Wr(this,e,r)),this};q.prototype.removeListener=function(e,r){var n,a,u,d,v;if(nt(r),a=this._events,a===void 0)return this;if(n=a[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(u=-1,d=n.length-1;d>=0;d--)if(n[d]===r||n[d].listener===r){v=n[d].listener,u=d;break}if(u<0)return this;u===0?n.shift():zn(n,u),n.length===1&&(a[e]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",e,v||r)}return this};q.prototype.off=q.prototype.removeListener;q.prototype.removeAllListeners=function(e){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var u=Object.keys(n),d;for(a=0;a<u.length;++a)d=u[a],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function qr(t,e,r){var n=t._events;if(n===void 0)return[];var a=n[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?Kn(a):Hr(a,a.length)}q.prototype.listeners=function(e){return qr(this,e,!0)};q.prototype.rawListeners=function(e){return qr(this,e,!1)};q.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Gr.call(t,e)};q.prototype.listenerCount=Gr;function Gr(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}q.prototype.eventNames=function(){return this._eventsCount>0?He(this._events):[]};function Hr(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function zn(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Kn(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Jn(t,e){return new Promise(function(r,n){function a(d){t.removeListener(e,u),n(d)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}Vr(t,e,u,{once:!0}),e!=="error"&&Yn(t,a,{once:!0})})}function Yn(t,e,r){typeof t.on=="function"&&Vr(t,"error",e,r)}function Vr(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(u){n.once&&t.removeEventListener(e,a),r(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var zr=Vt.exports,Kr=zr.EventEmitter,zt={},Jr={},Yr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var u=Object.getOwnPropertySymbols(e);if(u.length!==1||u[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,r);if(d.value!==a||d.enumerable!==!0)return!1}return!0},Xn=Yr,Kt=function(){return Xn()&&!!Symbol.toStringTag},ar=typeof Symbol<"u"&&Symbol,Zn=Yr,Qn=function(){return typeof ar!="function"||typeof Symbol!="function"||typeof ar("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Zn()},sr={foo:{}},ei=Object,ti=function(){return{__proto__:sr}.foo===sr.foo&&!({__proto__:null}instanceof ei)},ri="Function.prototype.bind called on incompatible ",ni=Object.prototype.toString,ii=Math.max,oi="[object Function]",fr=function(e,r){for(var n=[],a=0;a<e.length;a+=1)n[a]=e[a];for(var u=0;u<r.length;u+=1)n[u+e.length]=r[u];return n},ai=function(e,r){for(var n=[],a=r||0,u=0;a<e.length;a+=1,u+=1)n[u]=e[a];return n},si=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},fi=function(e){var r=this;if(typeof r!="function"||ni.apply(r)!==oi)throw new TypeError(ri+r);for(var n=ai(arguments,1),a,u=function(){if(this instanceof a){var c=r.apply(this,fr(n,arguments));return Object(c)===c?c:this}return r.apply(e,fr(n,arguments))},d=ii(0,r.length-n.length),v=[],p=0;p<d;p++)v[p]="$"+p;if(a=Function("binder","return function ("+si(v,",")+"){ return binder.apply(this,arguments); }")(u),r.prototype){var w=function(){};w.prototype=r.prototype,a.prototype=new w,w.prototype=null}return a},li=fi,Jt=Function.prototype.bind||li,ui=Function.prototype.call,ci=Object.prototype.hasOwnProperty,di=Jt,hi=di.call(ui,ci),U,Ie=SyntaxError,Xr=Function,Fe=TypeError,ht=function(t){try{return Xr('"use strict"; return ('+t+").constructor;")()}catch{}},_e=Object.getOwnPropertyDescriptor;if(_e)try{_e({},"")}catch{_e=null}var pt=function(){throw new Fe},pi=_e?function(){try{return arguments.callee,pt}catch{try{return _e(arguments,"callee").get}catch{return pt}}}():pt,Ae=Qn(),yi=ti(),K=Object.getPrototypeOf||(yi?function(t){return t.__proto__}:null),Pe={},gi=typeof Uint8Array>"u"||!K?U:K(Uint8Array),me={"%AggregateError%":typeof AggregateError>"u"?U:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?U:ArrayBuffer,"%ArrayIteratorPrototype%":Ae&&K?K([][Symbol.iterator]()):U,"%AsyncFromSyncIteratorPrototype%":U,"%AsyncFunction%":Pe,"%AsyncGenerator%":Pe,"%AsyncGeneratorFunction%":Pe,"%AsyncIteratorPrototype%":Pe,"%Atomics%":typeof Atomics>"u"?U:Atomics,"%BigInt%":typeof BigInt>"u"?U:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?U:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?U:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?U:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?U:Float32Array,"%Float64Array%":typeof Float64Array>"u"?U:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?U:FinalizationRegistry,"%Function%":Xr,"%GeneratorFunction%":Pe,"%Int8Array%":typeof Int8Array>"u"?U:Int8Array,"%Int16Array%":typeof Int16Array>"u"?U:Int16Array,"%Int32Array%":typeof Int32Array>"u"?U:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ae&&K?K(K([][Symbol.iterator]())):U,"%JSON%":typeof JSON=="object"?JSON:U,"%Map%":typeof Map>"u"?U:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ae||!K?U:K(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?U:Promise,"%Proxy%":typeof Proxy>"u"?U:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?U:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?U:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ae||!K?U:K(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?U:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ae&&K?K(""[Symbol.iterator]()):U,"%Symbol%":Ae?Symbol:U,"%SyntaxError%":Ie,"%ThrowTypeError%":pi,"%TypedArray%":gi,"%TypeError%":Fe,"%Uint8Array%":typeof Uint8Array>"u"?U:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?U:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?U:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?U:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?U:WeakMap,"%WeakRef%":typeof WeakRef>"u"?U:WeakRef,"%WeakSet%":typeof WeakSet>"u"?U:WeakSet};if(K)try{null.error}catch(t){var bi=K(K(t));me["%Error.prototype%"]=bi}var vi=function t(e){var r;if(e==="%AsyncFunction%")r=ht("async function () {}");else if(e==="%GeneratorFunction%")r=ht("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ht("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&K&&(r=K(a.prototype))}return me[e]=r,r},lr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$e=Jt,Ze=hi,_i=$e.call(Function.call,Array.prototype.concat),mi=$e.call(Function.apply,Array.prototype.splice),ur=$e.call(Function.call,String.prototype.replace),Qe=$e.call(Function.call,String.prototype.slice),wi=$e.call(Function.call,RegExp.prototype.exec),Si=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ei=/\\(\\)?/g,Ri=function(e){var r=Qe(e,0,1),n=Qe(e,-1);if(r==="%"&&n!=="%")throw new Ie("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ie("invalid intrinsic syntax, expected opening `%`");var a=[];return ur(e,Si,function(u,d,v,p){a[a.length]=v?ur(p,Ei,"$1"):d||u}),a},Ai=function(e,r){var n=e,a;if(Ze(lr,n)&&(a=lr[n],n="%"+a[0]+"%"),Ze(me,n)){var u=me[n];if(u===Pe&&(u=vi(n)),typeof u>"u"&&!r)throw new Fe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:u}}throw new Ie("intrinsic "+e+" does not exist!")},De=function(e,r){if(typeof e!="string"||e.length===0)throw new Fe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Fe('"allowMissing" argument must be a boolean');if(wi(/^%?[^%]*%?$/,e)===null)throw new Ie("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Ri(e),a=n.length>0?n[0]:"",u=Ai("%"+a+"%",r),d=u.name,v=u.value,p=!1,w=u.alias;w&&(a=w[0],mi(n,_i([0,1],w)));for(var c=1,y=!0;c<n.length;c+=1){var C=n[c],D=Qe(C,0,1),N=Qe(C,-1);if((D==='"'||D==="'"||D==="`"||N==='"'||N==="'"||N==="`")&&D!==N)throw new Ie("property names with quotes must have matching quotes");if((C==="constructor"||!y)&&(p=!0),a+="."+C,d="%"+a+"%",Ze(me,d))v=me[d];else if(v!=null){if(!(C in v)){if(!r)throw new Fe("base intrinsic for "+e+" exists, but the property is not available.");return}if(_e&&c+1>=n.length){var S=_e(v,C);y=!!S,y&&"get"in S&&!("originalValue"in S.get)?v=S.get:v=v[C]}else y=Ze(v,C),v=v[C];y&&!p&&(me[d]=v)}}return v},Zr={exports:{}},Ci=De,kt=Ci("%Object.defineProperty%",!0),Bt=function(){if(kt)try{return kt({},"a",{value:1}),!0}catch{return!1}return!1};Bt.hasArrayLengthDefineBug=function(){if(!Bt())return null;try{return kt([],"length",{value:1}).length!==1}catch{return!0}};var Qr=Bt,Ti=De,Ve=Ti("%Object.getOwnPropertyDescriptor%",!0);if(Ve)try{Ve([],"length")}catch{Ve=null}var Yt=Ve,Oi=Qr(),Xt=De,xe=Oi&&Xt("%Object.defineProperty%",!0);if(xe)try{xe({},"a",{value:1})}catch{xe=!1}var Pi=Xt("%SyntaxError%"),Ce=Xt("%TypeError%"),cr=Yt,Ni=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ce("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ce("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ce("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ce("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ce("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ce("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,v=arguments.length>6?arguments[6]:!1,p=!!cr&&cr(e,r);if(xe)xe(e,r,{configurable:d===null&&p?p.configurable:!d,enumerable:a===null&&p?p.enumerable:!a,value:n,writable:u===null&&p?p.writable:!u});else if(v||!a&&!u&&!d)e[r]=n;else throw new Pi("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},en=De,dr=Ni,ji=Qr(),hr=Yt,pr=en("%TypeError%"),Mi=en("%Math.floor%"),Fi=function(e,r){if(typeof e!="function")throw new pr("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Mi(r)!==r)throw new pr("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,u=!0;if("length"in e&&hr){var d=hr(e,"length");d&&!d.configurable&&(a=!1),d&&!d.writable&&(u=!1)}return(a||u||!n)&&(ji?dr(e,"length",r,!0,!0):dr(e,"length",r)),e};(function(t){var e=Jt,r=De,n=Fi,a=r("%TypeError%"),u=r("%Function.prototype.apply%"),d=r("%Function.prototype.call%"),v=r("%Reflect.apply%",!0)||e.call(d,u),p=r("%Object.defineProperty%",!0),w=r("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}t.exports=function(C){if(typeof C!="function")throw new a("a function is required");var D=v(e,d,arguments);return n(D,1+w(0,C.length-(arguments.length-1)),!0)};var c=function(){return v(e,u,arguments)};p?p(t.exports,"apply",{value:c}):t.exports.apply=c})(Zr);var tn=Zr.exports,rn=De,nn=tn,Ii=nn(rn("String.prototype.indexOf")),on=function(e,r){var n=rn(e,!!r);return typeof n=="function"&&Ii(e,".prototype.")>-1?nn(n):n},Li=Kt(),Di=on,xt=Di("Object.prototype.toString"),it=function(e){return Li&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:xt(e)==="[object Arguments]"},an=function(e){return it(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&xt(e)!=="[object Array]"&&xt(e.callee)==="[object Function]"},ki=function(){return it(arguments)}();it.isLegacyArguments=an;var Bi=ki?it:an,xi=Object.prototype.toString,Ui=Function.prototype.toString,$i=/^\s*(?:function)?\*/,sn=Kt(),yt=Object.getPrototypeOf,Wi=function(){if(!sn)return!1;try{return Function("return function*() {}")()}catch{}},gt,qi=function(e){if(typeof e!="function")return!1;if($i.test(Ui.call(e)))return!0;if(!sn){var r=xi.call(e);return r==="[object GeneratorFunction]"}if(!yt)return!1;if(typeof gt>"u"){var n=Wi();gt=n?yt(n):!1}return yt(e)===gt},fn=Function.prototype.toString,Ne=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ut,ze;if(typeof Ne=="function"&&typeof Object.defineProperty=="function")try{Ut=Object.defineProperty({},"length",{get:function(){throw ze}}),ze={},Ne(function(){throw 42},null,Ut)}catch(t){t!==ze&&(Ne=null)}else Ne=null;var Gi=/^\s*class\b/,$t=function(e){try{var r=fn.call(e);return Gi.test(r)}catch{return!1}},bt=function(e){try{return $t(e)?!1:(fn.call(e),!0)}catch{return!1}},Ke=Object.prototype.toString,Hi="[object Object]",Vi="[object Function]",zi="[object GeneratorFunction]",Ki="[object HTMLAllCollection]",Ji="[object HTML document.all class]",Yi="[object HTMLCollection]",Xi=typeof Symbol=="function"&&!!Symbol.toStringTag,Zi=!(0 in[,]),Wt=function(){return!1};if(typeof document=="object"){var Qi=document.all;Ke.call(Qi)===Ke.call(document.all)&&(Wt=function(e){if((Zi||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Ke.call(e);return(r===Ki||r===Ji||r===Yi||r===Hi)&&e("")==null}catch{}return!1})}var eo=Ne?function(e){if(Wt(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ne(e,null,Ut)}catch(r){if(r!==ze)return!1}return!$t(e)&&bt(e)}:function(e){if(Wt(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Xi)return bt(e);if($t(e))return!1;var r=Ke.call(e);return r!==Vi&&r!==zi&&!/^\[object HTML/.test(r)?!1:bt(e)},to=eo,ro=Object.prototype.toString,ln=Object.prototype.hasOwnProperty,no=function(e,r,n){for(var a=0,u=e.length;a<u;a++)ln.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))},io=function(e,r,n){for(var a=0,u=e.length;a<u;a++)n==null?r(e.charAt(a),a,e):r.call(n,e.charAt(a),a,e)},oo=function(e,r,n){for(var a in e)ln.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))},ao=function(e,r,n){if(!to(r))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),ro.call(e)==="[object Array]"?no(e,r,a):typeof e=="string"?io(e,r,a):oo(e,r,a)},so=ao,vt=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],fo=typeof globalThis>"u"?ae:globalThis,lo=function(){for(var e=[],r=0;r<vt.length;r++)typeof fo[vt[r]]=="function"&&(e[e.length]=vt[r]);return e},et=so,uo=lo,yr=tn,Zt=on,Je=Yt,co=Zt("Object.prototype.toString"),un=Kt(),gr=typeof globalThis>"u"?ae:globalThis,qt=uo(),Qt=Zt("String.prototype.slice"),_t=Object.getPrototypeOf,ho=Zt("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},tt={__proto__:null};un&&Je&&_t?et(qt,function(t){var e=new gr[t];if(Symbol.toStringTag in e){var r=_t(e),n=Je(r,Symbol.toStringTag);if(!n){var a=_t(r);n=Je(a,Symbol.toStringTag)}tt["$"+t]=yr(n.get)}}):et(qt,function(t){var e=new gr[t],r=e.slice||e.set;r&&(tt["$"+t]=yr(r))});var po=function(e){var r=!1;return et(tt,function(n,a){if(!r)try{"$"+n(e)===a&&(r=Qt(a,1))}catch{}}),r},yo=function(e){var r=!1;return et(tt,function(n,a){if(!r)try{n(e),r=Qt(a,1)}catch{}}),r},cn=function(e){if(!e||typeof e!="object")return!1;if(!un){var r=Qt(co(e),8,-1);return ho(qt,r)>-1?r:r!=="Object"?!1:yo(e)}return Je?po(e):null},go=cn,bo=function(e){return!!go(e)};(function(t){var e=Bi,r=qi,n=cn,a=bo;function u(m){return m.call.bind(m)}var d=typeof BigInt<"u",v=typeof Symbol<"u",p=u(Object.prototype.toString),w=u(Number.prototype.valueOf),c=u(String.prototype.valueOf),y=u(Boolean.prototype.valueOf);if(d)var C=u(BigInt.prototype.valueOf);if(v)var D=u(Symbol.prototype.valueOf);function N(m,We){if(typeof m!="object")return!1;try{return We(m),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=a;function S(m){return typeof Promise<"u"&&m instanceof Promise||m!==null&&typeof m=="object"&&typeof m.then=="function"&&typeof m.catch=="function"}t.isPromise=S;function R(m){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(m):a(m)||h(m)}t.isArrayBufferView=R;function s(m){return n(m)==="Uint8Array"}t.isUint8Array=s;function _(m){return n(m)==="Uint8ClampedArray"}t.isUint8ClampedArray=_;function T(m){return n(m)==="Uint16Array"}t.isUint16Array=T;function P(m){return n(m)==="Uint32Array"}t.isUint32Array=P;function F(m){return n(m)==="Int8Array"}t.isInt8Array=F;function L(m){return n(m)==="Int16Array"}t.isInt16Array=L;function G(m){return n(m)==="Int32Array"}t.isInt32Array=G;function k(m){return n(m)==="Float32Array"}t.isFloat32Array=k;function I(m){return n(m)==="Float64Array"}t.isFloat64Array=I;function z(m){return n(m)==="BigInt64Array"}t.isBigInt64Array=z;function ee(m){return n(m)==="BigUint64Array"}t.isBigUint64Array=ee;function X(m){return p(m)==="[object Map]"}X.working=typeof Map<"u"&&X(new Map);function Z(m){return typeof Map>"u"?!1:X.working?X(m):m instanceof Map}t.isMap=Z;function se(m){return p(m)==="[object Set]"}se.working=typeof Set<"u"&&se(new Set);function fe(m){return typeof Set>"u"?!1:se.working?se(m):m instanceof Set}t.isSet=fe;function te(m){return p(m)==="[object WeakMap]"}te.working=typeof WeakMap<"u"&&te(new WeakMap);function ne(m){return typeof WeakMap>"u"?!1:te.working?te(m):m instanceof WeakMap}t.isWeakMap=ne;function le(m){return p(m)==="[object WeakSet]"}le.working=typeof WeakSet<"u"&&le(new WeakSet);function ie(m){return le(m)}t.isWeakSet=ie;function J(m){return p(m)==="[object ArrayBuffer]"}J.working=typeof ArrayBuffer<"u"&&J(new ArrayBuffer);function ye(m){return typeof ArrayBuffer>"u"?!1:J.working?J(m):m instanceof ArrayBuffer}t.isArrayBuffer=ye;function oe(m){return p(m)==="[object DataView]"}oe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&oe(new DataView(new ArrayBuffer(1),0,1));function h(m){return typeof DataView>"u"?!1:oe.working?oe(m):m instanceof DataView}t.isDataView=h;var b=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function A(m){return p(m)==="[object SharedArrayBuffer]"}function f(m){return typeof b>"u"?!1:(typeof A.working>"u"&&(A.working=A(new b)),A.working?A(m):m instanceof b)}t.isSharedArrayBuffer=f;function l(m){return p(m)==="[object AsyncFunction]"}t.isAsyncFunction=l;function g(m){return p(m)==="[object Map Iterator]"}t.isMapIterator=g;function O(m){return p(m)==="[object Set Iterator]"}t.isSetIterator=O;function j(m){return p(m)==="[object Generator]"}t.isGeneratorObject=j;function i(m){return p(m)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=i;function o(m){return N(m,w)}t.isNumberObject=o;function E(m){return N(m,c)}t.isStringObject=E;function M(m){return N(m,y)}t.isBooleanObject=M;function $(m){return d&&N(m,C)}t.isBigIntObject=$;function B(m){return v&&N(m,D)}t.isSymbolObject=B;function W(m){return o(m)||E(m)||M(m)||$(m)||B(m)}t.isBoxedPrimitive=W;function ge(m){return typeof Uint8Array<"u"&&(ye(m)||f(m))}t.isAnyArrayBuffer=ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(m){Object.defineProperty(t,m,{enumerable:!1,value:function(){throw new Error(m+" is not supported in userland")}})})})(Jr);var vo=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},Gt={exports:{}};typeof Object.create=="function"?Gt.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Gt.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var ke=Gt.exports;(function(t){var e={},r=Object.getOwnPropertyDescriptors||function(b){for(var A=Object.keys(b),f={},l=0;l<A.length;l++)f[A[l]]=Object.getOwnPropertyDescriptor(b,A[l]);return f},n=/%[sdj%]/g;t.format=function(h){if(!L(h)){for(var b=[],A=0;A<arguments.length;A++)b.push(v(arguments[A]));return b.join(" ")}for(var A=1,f=arguments,l=f.length,g=String(h).replace(n,function(j){if(j==="%%")return"%";if(A>=l)return j;switch(j){case"%s":return String(f[A++]);case"%d":return Number(f[A++]);case"%j":try{return JSON.stringify(f[A++])}catch{return"[Circular]"}default:return j}}),O=f[A];A<l;O=f[++A])T(O)||!z(O)?g+=" "+O:g+=" "+v(O);return g},t.deprecate=function(h,b){if(typeof x<"u"&&x.noDeprecation===!0)return h;if(typeof x>"u")return function(){return t.deprecate(h,b).apply(this,arguments)};var A=!1;function f(){if(!A){if(x.throwDeprecation)throw new Error(b);x.traceDeprecation?console.trace(b):console.error(b),A=!0}return h.apply(this,arguments)}return f};var a={},u=/^$/;if(e.NODE_DEBUG){var d=e.NODE_DEBUG;d=d.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+d+"$","i")}t.debuglog=function(h){if(h=h.toUpperCase(),!a[h])if(u.test(h)){var b=x.pid;a[h]=function(){var A=t.format.apply(t,arguments);console.error("%s %d: %s",h,b,A)}}else a[h]=function(){};return a[h]};function v(h,b){var A={seen:[],stylize:w};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),_(b)?A.showHidden=b:b&&t._extend(A,b),k(A.showHidden)&&(A.showHidden=!1),k(A.depth)&&(A.depth=2),k(A.colors)&&(A.colors=!1),k(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=p),y(A,h,A.depth)}t.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function p(h,b){var A=v.styles[b];return A?"\x1B["+v.colors[A][0]+"m"+h+"\x1B["+v.colors[A][1]+"m":h}function w(h,b){return h}function c(h){var b={};return h.forEach(function(A,f){b[A]=!0}),b}function y(h,b,A){if(h.customInspect&&b&&Z(b.inspect)&&b.inspect!==t.inspect&&!(b.constructor&&b.constructor.prototype===b)){var f=b.inspect(A,h);return L(f)||(f=y(h,f,A)),f}var l=C(h,b);if(l)return l;var g=Object.keys(b),O=c(g);if(h.showHidden&&(g=Object.getOwnPropertyNames(b)),X(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return D(b);if(g.length===0){if(Z(b)){var j=b.name?": "+b.name:"";return h.stylize("[Function"+j+"]","special")}if(I(b))return h.stylize(RegExp.prototype.toString.call(b),"regexp");if(ee(b))return h.stylize(Date.prototype.toString.call(b),"date");if(X(b))return D(b)}var i="",o=!1,E=["{","}"];if(s(b)&&(o=!0,E=["[","]"]),Z(b)){var M=b.name?": "+b.name:"";i=" [Function"+M+"]"}if(I(b)&&(i=" "+RegExp.prototype.toString.call(b)),ee(b)&&(i=" "+Date.prototype.toUTCString.call(b)),X(b)&&(i=" "+D(b)),g.length===0&&(!o||b.length==0))return E[0]+i+E[1];if(A<0)return I(b)?h.stylize(RegExp.prototype.toString.call(b),"regexp"):h.stylize("[Object]","special");h.seen.push(b);var $;return o?$=N(h,b,A,O,g):$=g.map(function(B){return S(h,b,A,O,B,o)}),h.seen.pop(),R($,i,E)}function C(h,b){if(k(b))return h.stylize("undefined","undefined");if(L(b)){var A="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(A,"string")}if(F(b))return h.stylize(""+b,"number");if(_(b))return h.stylize(""+b,"boolean");if(T(b))return h.stylize("null","null")}function D(h){return"["+Error.prototype.toString.call(h)+"]"}function N(h,b,A,f,l){for(var g=[],O=0,j=b.length;O<j;++O)ie(b,String(O))?g.push(S(h,b,A,f,String(O),!0)):g.push("");return l.forEach(function(i){i.match(/^\d+$/)||g.push(S(h,b,A,f,i,!0))}),g}function S(h,b,A,f,l,g){var O,j,i;if(i=Object.getOwnPropertyDescriptor(b,l)||{value:b[l]},i.get?i.set?j=h.stylize("[Getter/Setter]","special"):j=h.stylize("[Getter]","special"):i.set&&(j=h.stylize("[Setter]","special")),ie(f,l)||(O="["+l+"]"),j||(h.seen.indexOf(i.value)<0?(T(A)?j=y(h,i.value,null):j=y(h,i.value,A-1),j.indexOf(`
`)>-1&&(g?j=j.split(`
`).map(function(o){return"  "+o}).join(`
`).slice(2):j=`
`+j.split(`
`).map(function(o){return"   "+o}).join(`
`))):j=h.stylize("[Circular]","special")),k(O)){if(g&&l.match(/^\d+$/))return j;O=JSON.stringify(""+l),O.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.slice(1,-1),O=h.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=h.stylize(O,"string"))}return O+": "+j}function R(h,b,A){var f=h.reduce(function(l,g){return g.indexOf(`
`)>=0,l+g.replace(/\u001b\[\d\d?m/g,"").length+1},0);return f>60?A[0]+(b===""?"":b+`
 `)+" "+h.join(`,
  `)+" "+A[1]:A[0]+b+" "+h.join(", ")+" "+A[1]}t.types=Jr;function s(h){return Array.isArray(h)}t.isArray=s;function _(h){return typeof h=="boolean"}t.isBoolean=_;function T(h){return h===null}t.isNull=T;function P(h){return h==null}t.isNullOrUndefined=P;function F(h){return typeof h=="number"}t.isNumber=F;function L(h){return typeof h=="string"}t.isString=L;function G(h){return typeof h=="symbol"}t.isSymbol=G;function k(h){return h===void 0}t.isUndefined=k;function I(h){return z(h)&&fe(h)==="[object RegExp]"}t.isRegExp=I,t.types.isRegExp=I;function z(h){return typeof h=="object"&&h!==null}t.isObject=z;function ee(h){return z(h)&&fe(h)==="[object Date]"}t.isDate=ee,t.types.isDate=ee;function X(h){return z(h)&&(fe(h)==="[object Error]"||h instanceof Error)}t.isError=X,t.types.isNativeError=X;function Z(h){return typeof h=="function"}t.isFunction=Z;function se(h){return h===null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||typeof h=="symbol"||typeof h>"u"}t.isPrimitive=se,t.isBuffer=vo;function fe(h){return Object.prototype.toString.call(h)}function te(h){return h<10?"0"+h.toString(10):h.toString(10)}var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var h=new Date,b=[te(h.getHours()),te(h.getMinutes()),te(h.getSeconds())].join(":");return[h.getDate(),ne[h.getMonth()],b].join(" ")}t.log=function(){console.log("%s - %s",le(),t.format.apply(t,arguments))},t.inherits=ke,t._extend=function(h,b){if(!b||!z(b))return h;for(var A=Object.keys(b),f=A.length;f--;)h[A[f]]=b[A[f]];return h};function ie(h,b){return Object.prototype.hasOwnProperty.call(h,b)}var J=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(b){if(typeof b!="function")throw new TypeError('The "original" argument must be of type Function');if(J&&b[J]){var A=b[J];if(typeof A!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(A,J,{value:A,enumerable:!1,writable:!1,configurable:!0}),A}function A(){for(var f,l,g=new Promise(function(i,o){f=i,l=o}),O=[],j=0;j<arguments.length;j++)O.push(arguments[j]);O.push(function(i,o){i?l(i):f(o)});try{b.apply(this,O)}catch(i){l(i)}return g}return Object.setPrototypeOf(A,Object.getPrototypeOf(b)),J&&Object.defineProperty(A,J,{value:A,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(A,r(b))},t.promisify.custom=J;function ye(h,b){if(!h){var A=new Error("Promise was rejected with a falsy value");A.reason=h,h=A}return b(h)}function oe(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');function b(){for(var A=[],f=0;f<arguments.length;f++)A.push(arguments[f]);var l=A.pop();if(typeof l!="function")throw new TypeError("The last argument must be of type Function");var g=this,O=function(){return l.apply(g,arguments)};h.apply(this,A).then(function(j){x.nextTick(O.bind(null,null,j))},function(j){x.nextTick(ye.bind(null,j,O))})}return Object.setPrototypeOf(b,Object.getPrototypeOf(h)),Object.defineProperties(b,r(h)),b}t.callbackify=oe})(zt);var mt,br;function _o(){if(br)return mt;br=1;function t(N,S){var R=Object.keys(N);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(N);S&&(s=s.filter(function(_){return Object.getOwnPropertyDescriptor(N,_).enumerable})),R.push.apply(R,s)}return R}function e(N){for(var S=1;S<arguments.length;S++){var R=arguments[S]!=null?arguments[S]:{};S%2?t(Object(R),!0).forEach(function(s){r(N,s,R[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(R)):t(Object(R)).forEach(function(s){Object.defineProperty(N,s,Object.getOwnPropertyDescriptor(R,s))})}return N}function r(N,S,R){return S=d(S),S in N?Object.defineProperty(N,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):N[S]=R,N}function n(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function a(N,S){for(var R=0;R<S.length;R++){var s=S[R];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(N,d(s.key),s)}}function u(N,S,R){return S&&a(N.prototype,S),R&&a(N,R),Object.defineProperty(N,"prototype",{writable:!1}),N}function d(N){var S=v(N,"string");return typeof S=="symbol"?S:String(S)}function v(N,S){if(typeof N!="object"||N===null)return N;var R=N[Symbol.toPrimitive];if(R!==void 0){var s=R.call(N,S||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(N)}var p=rt,w=p.Buffer,c=zt,y=c.inspect,C=y&&y.custom||"inspect";function D(N,S,R){w.prototype.copy.call(N,S,R)}return mt=function(){function N(){n(this,N),this.head=null,this.tail=null,this.length=0}return u(N,[{key:"push",value:function(R){var s={data:R,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length}},{key:"unshift",value:function(R){var s={data:R,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var s=this.head,_=""+s.data;s=s.next;)_+=R+s.data;return _}},{key:"concat",value:function(R){if(this.length===0)return w.alloc(0);for(var s=w.allocUnsafe(R>>>0),_=this.head,T=0;_;)D(_.data,s,T),T+=_.data.length,_=_.next;return s}},{key:"consume",value:function(R,s){var _;return R<this.head.data.length?(_=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?_=this.shift():_=s?this._getString(R):this._getBuffer(R),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var s=this.head,_=1,T=s.data;for(R-=T.length;s=s.next;){var P=s.data,F=R>P.length?P.length:R;if(F===P.length?T+=P:T+=P.slice(0,R),R-=F,R===0){F===P.length?(++_,s.next?this.head=s.next:this.head=this.tail=null):(this.head=s,s.data=P.slice(F));break}++_}return this.length-=_,T}},{key:"_getBuffer",value:function(R){var s=w.allocUnsafe(R),_=this.head,T=1;for(_.data.copy(s),R-=_.data.length;_=_.next;){var P=_.data,F=R>P.length?P.length:R;if(P.copy(s,s.length-R,0,F),R-=F,R===0){F===P.length?(++T,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=P.slice(F));break}++T}return this.length-=T,s}},{key:C,value:function(R,s){return y(this,e(e({},s),{},{depth:0,customInspect:!1}))}}]),N}(),mt}function mo(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,x.nextTick(Ht,this,t)):x.nextTick(Ht,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(u){!e&&u?r._writableState?r._writableState.errorEmitted?x.nextTick(Ye,r):(r._writableState.errorEmitted=!0,x.nextTick(vr,r,u)):x.nextTick(vr,r,u):e?(x.nextTick(Ye,r),e(u)):x.nextTick(Ye,r)}),this)}function vr(t,e){Ht(t,e),Ye(t)}function Ye(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function wo(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ht(t,e){t.emit("error",e)}function So(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var dn={destroy:mo,undestroy:wo,errorOrDestroy:So},Se={};function Eo(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var hn={};function re(t,e,r){r||(r=Error);function n(u,d,v){return typeof e=="string"?e:e(u,d,v)}var a=function(u){Eo(d,u);function d(v,p,w){return u.call(this,n(v,p,w))||this}return d}(r);a.prototype.name=r.name,a.prototype.code=t,hn[t]=a}function _r(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Ro(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Ao(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Co(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}re("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);re("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Ro(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(Ao(t," argument"))a="The ".concat(t," ").concat(n," ").concat(_r(e,"type"));else{var u=Co(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(u," ").concat(n," ").concat(_r(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);re("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");re("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});re("ERR_STREAM_PREMATURE_CLOSE","Premature close");re("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});re("ERR_MULTIPLE_CALLBACK","Callback called multiple times");re("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");re("ERR_STREAM_WRITE_AFTER_END","write after end");re("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);re("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);re("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Se.codes=hn;var To=Se.codes.ERR_INVALID_OPT_VALUE;function Oo(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Po(t,e,r,n){var a=Oo(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var u=n?r:"highWaterMark";throw new To(u,a)}return Math.floor(a)}return t.objectMode?16:16*1024}var pn={getHighWaterMark:Po},No=jo;function jo(t,e){if(wt("noDeprecation"))return t;var r=!1;function n(){if(!r){if(wt("throwDeprecation"))throw new Error(e);wt("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function wt(t){try{if(!ae.localStorage)return!1}catch{return!1}var e=ae.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var St,mr;function yn(){if(mr)return St;mr=1,St=k;function t(f){var l=this;this.next=null,this.entry=null,this.finish=function(){A(l,f)}}var e;k.WritableState=L;var r={deprecate:No},n=Kr,a=rt.Buffer,u=(typeof ae<"u"?ae:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(f){return a.from(f)}function v(f){return a.isBuffer(f)||f instanceof u}var p=dn,w=pn,c=w.getHighWaterMark,y=Se.codes,C=y.ERR_INVALID_ARG_TYPE,D=y.ERR_METHOD_NOT_IMPLEMENTED,N=y.ERR_MULTIPLE_CALLBACK,S=y.ERR_STREAM_CANNOT_PIPE,R=y.ERR_STREAM_DESTROYED,s=y.ERR_STREAM_NULL_VALUES,_=y.ERR_STREAM_WRITE_AFTER_END,T=y.ERR_UNKNOWN_ENCODING,P=p.errorOrDestroy;ke(k,n);function F(){}function L(f,l,g){e=e||Le(),f=f||{},typeof g!="boolean"&&(g=l instanceof e),this.objectMode=!!f.objectMode,g&&(this.objectMode=this.objectMode||!!f.writableObjectMode),this.highWaterMark=c(this,f,"writableHighWaterMark",g),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=f.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=f.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){te(l,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=f.emitClose!==!1,this.autoDestroy=!!f.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}L.prototype.getBuffer=function(){for(var l=this.bufferedRequest,g=[];l;)g.push(l),l=l.next;return g},function(){try{Object.defineProperty(L.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var G;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(G=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(l){return G.call(this,l)?!0:this!==k?!1:l&&l._writableState instanceof L}})):G=function(l){return l instanceof this};function k(f){e=e||Le();var l=this instanceof e;if(!l&&!G.call(k,this))return new k(f);this._writableState=new L(f,this,l),this.writable=!0,f&&(typeof f.write=="function"&&(this._write=f.write),typeof f.writev=="function"&&(this._writev=f.writev),typeof f.destroy=="function"&&(this._destroy=f.destroy),typeof f.final=="function"&&(this._final=f.final)),n.call(this)}k.prototype.pipe=function(){P(this,new S)};function I(f,l){var g=new _;P(f,g),x.nextTick(l,g)}function z(f,l,g,O){var j;return g===null?j=new s:typeof g!="string"&&!l.objectMode&&(j=new C("chunk",["string","Buffer"],g)),j?(P(f,j),x.nextTick(O,j),!1):!0}k.prototype.write=function(f,l,g){var O=this._writableState,j=!1,i=!O.objectMode&&v(f);return i&&!a.isBuffer(f)&&(f=d(f)),typeof l=="function"&&(g=l,l=null),i?l="buffer":l||(l=O.defaultEncoding),typeof g!="function"&&(g=F),O.ending?I(this,g):(i||z(this,O,f,g))&&(O.pendingcb++,j=X(this,O,i,f,l,g)),j},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var f=this._writableState;f.corked&&(f.corked--,!f.writing&&!f.corked&&!f.bufferProcessing&&f.bufferedRequest&&ie(this,f))},k.prototype.setDefaultEncoding=function(l){if(typeof l=="string"&&(l=l.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((l+"").toLowerCase())>-1))throw new T(l);return this._writableState.defaultEncoding=l,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ee(f,l,g){return!f.objectMode&&f.decodeStrings!==!1&&typeof l=="string"&&(l=a.from(l,g)),l}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(f,l,g,O,j,i){if(!g){var o=ee(l,O,j);O!==o&&(g=!0,j="buffer",O=o)}var E=l.objectMode?1:O.length;l.length+=E;var M=l.length<l.highWaterMark;if(M||(l.needDrain=!0),l.writing||l.corked){var $=l.lastBufferedRequest;l.lastBufferedRequest={chunk:O,encoding:j,isBuf:g,callback:i,next:null},$?$.next=l.lastBufferedRequest:l.bufferedRequest=l.lastBufferedRequest,l.bufferedRequestCount+=1}else Z(f,l,!1,E,O,j,i);return M}function Z(f,l,g,O,j,i,o){l.writelen=O,l.writecb=o,l.writing=!0,l.sync=!0,l.destroyed?l.onwrite(new R("write")):g?f._writev(j,l.onwrite):f._write(j,i,l.onwrite),l.sync=!1}function se(f,l,g,O,j){--l.pendingcb,g?(x.nextTick(j,O),x.nextTick(h,f,l),f._writableState.errorEmitted=!0,P(f,O)):(j(O),f._writableState.errorEmitted=!0,P(f,O),h(f,l))}function fe(f){f.writing=!1,f.writecb=null,f.length-=f.writelen,f.writelen=0}function te(f,l){var g=f._writableState,O=g.sync,j=g.writecb;if(typeof j!="function")throw new N;if(fe(g),l)se(f,g,O,l,j);else{var i=J(g)||f.destroyed;!i&&!g.corked&&!g.bufferProcessing&&g.bufferedRequest&&ie(f,g),O?x.nextTick(ne,f,g,i,j):ne(f,g,i,j)}}function ne(f,l,g,O){g||le(f,l),l.pendingcb--,O(),h(f,l)}function le(f,l){l.length===0&&l.needDrain&&(l.needDrain=!1,f.emit("drain"))}function ie(f,l){l.bufferProcessing=!0;var g=l.bufferedRequest;if(f._writev&&g&&g.next){var O=l.bufferedRequestCount,j=new Array(O),i=l.corkedRequestsFree;i.entry=g;for(var o=0,E=!0;g;)j[o]=g,g.isBuf||(E=!1),g=g.next,o+=1;j.allBuffers=E,Z(f,l,!0,l.length,j,"",i.finish),l.pendingcb++,l.lastBufferedRequest=null,i.next?(l.corkedRequestsFree=i.next,i.next=null):l.corkedRequestsFree=new t(l),l.bufferedRequestCount=0}else{for(;g;){var M=g.chunk,$=g.encoding,B=g.callback,W=l.objectMode?1:M.length;if(Z(f,l,!1,W,M,$,B),g=g.next,l.bufferedRequestCount--,l.writing)break}g===null&&(l.lastBufferedRequest=null)}l.bufferedRequest=g,l.bufferProcessing=!1}k.prototype._write=function(f,l,g){g(new D("_write()"))},k.prototype._writev=null,k.prototype.end=function(f,l,g){var O=this._writableState;return typeof f=="function"?(g=f,f=null,l=null):typeof l=="function"&&(g=l,l=null),f!=null&&this.write(f,l),O.corked&&(O.corked=1,this.uncork()),O.ending||b(this,O,g),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function J(f){return f.ending&&f.length===0&&f.bufferedRequest===null&&!f.finished&&!f.writing}function ye(f,l){f._final(function(g){l.pendingcb--,g&&P(f,g),l.prefinished=!0,f.emit("prefinish"),h(f,l)})}function oe(f,l){!l.prefinished&&!l.finalCalled&&(typeof f._final=="function"&&!l.destroyed?(l.pendingcb++,l.finalCalled=!0,x.nextTick(ye,f,l)):(l.prefinished=!0,f.emit("prefinish")))}function h(f,l){var g=J(l);if(g&&(oe(f,l),l.pendingcb===0&&(l.finished=!0,f.emit("finish"),l.autoDestroy))){var O=f._readableState;(!O||O.autoDestroy&&O.endEmitted)&&f.destroy()}return g}function b(f,l,g){l.ending=!0,h(f,l),g&&(l.finished?x.nextTick(g):f.once("finish",g)),l.ended=!0,f.writable=!1}function A(f,l,g){var O=f.entry;for(f.entry=null;O;){var j=O.callback;l.pendingcb--,j(g),O=O.next}l.corkedRequestsFree.next=f}return Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(l){this._writableState&&(this._writableState.destroyed=l)}}),k.prototype.destroy=p.destroy,k.prototype._undestroy=p.undestroy,k.prototype._destroy=function(f,l){l(f)},St}var Et,wr;function Le(){if(wr)return Et;wr=1;var t=Object.keys||function(w){var c=[];for(var y in w)c.push(y);return c};Et=d;var e=bn(),r=yn();ke(d,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var u=n[a];d.prototype[u]||(d.prototype[u]=r.prototype[u])}function d(w){if(!(this instanceof d))return new d(w);e.call(this,w),r.call(this,w),this.allowHalfOpen=!0,w&&(w.readable===!1&&(this.readable=!1),w.writable===!1&&(this.writable=!1),w.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",v)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function v(){this._writableState.ended||x.nextTick(p,this)}function p(w){w.end()}return Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),Et}var Rt={},Sr;function Er(){if(Sr)return Rt;Sr=1;var t=Br.Buffer,e=t.isEncoding||function(s){switch(s=""+s,s&&s.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(s){if(!s)return"utf8";for(var _;;)switch(s){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return s;default:if(_)return;s=(""+s).toLowerCase(),_=!0}}function n(s){var _=r(s);if(typeof _!="string"&&(t.isEncoding===e||!e(s)))throw new Error("Unknown encoding: "+s);return _||s}Rt.StringDecoder=a;function a(s){this.encoding=n(s);var _;switch(this.encoding){case"utf16le":this.text=y,this.end=C,_=4;break;case"utf8":this.fillLast=p,_=4;break;case"base64":this.text=D,this.end=N,_=3;break;default:this.write=S,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(_)}a.prototype.write=function(s){if(s.length===0)return"";var _,T;if(this.lastNeed){if(_=this.fillLast(s),_===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<s.length?_?_+this.text(s,T):this.text(s,T):_||""},a.prototype.end=c,a.prototype.text=w,a.prototype.fillLast=function(s){if(this.lastNeed<=s.length)return s.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);s.copy(this.lastChar,this.lastTotal-this.lastNeed,0,s.length),this.lastNeed-=s.length};function u(s){return s<=127?0:s>>5===6?2:s>>4===14?3:s>>3===30?4:s>>6===2?-1:-2}function d(s,_,T){var P=_.length-1;if(P<T)return 0;var F=u(_[P]);return F>=0?(F>0&&(s.lastNeed=F-1),F):--P<T||F===-2?0:(F=u(_[P]),F>=0?(F>0&&(s.lastNeed=F-2),F):--P<T||F===-2?0:(F=u(_[P]),F>=0?(F>0&&(F===2?F=0:s.lastNeed=F-3),F):0))}function v(s,_,T){if((_[0]&192)!==128)return s.lastNeed=0,"�";if(s.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return s.lastNeed=1,"�";if(s.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return s.lastNeed=2,"�"}}function p(s){var _=this.lastTotal-this.lastNeed,T=v(this,s);if(T!==void 0)return T;if(this.lastNeed<=s.length)return s.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);s.copy(this.lastChar,_,0,s.length),this.lastNeed-=s.length}function w(s,_){var T=d(this,s,_);if(!this.lastNeed)return s.toString("utf8",_);this.lastTotal=T;var P=s.length-(T-this.lastNeed);return s.copy(this.lastChar,0,P),s.toString("utf8",_,P)}function c(s){var _=s&&s.length?this.write(s):"";return this.lastNeed?_+"�":_}function y(s,_){if((s.length-_)%2===0){var T=s.toString("utf16le",_);if(T){var P=T.charCodeAt(T.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=s[s.length-2],this.lastChar[1]=s[s.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=s[s.length-1],s.toString("utf16le",_,s.length-1)}function C(s){var _=s&&s.length?this.write(s):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,T)}return _}function D(s,_){var T=(s.length-_)%3;return T===0?s.toString("base64",_):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=s[s.length-1]:(this.lastChar[0]=s[s.length-2],this.lastChar[1]=s[s.length-1]),s.toString("base64",_,s.length-T))}function N(s){var _=s&&s.length?this.write(s):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function S(s){return s.toString(this.encoding)}function R(s){return s&&s.length?this.write(s):""}return Rt}var Rr=Se.codes.ERR_STREAM_PREMATURE_CLOSE;function Mo(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function Fo(){}function Io(t){return t.setHeader&&typeof t.abort=="function"}function gn(t,e,r){if(typeof e=="function")return gn(t,null,e);e||(e={}),r=Mo(r||Fo);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,u=function(){t.writable||v()},d=t._writableState&&t._writableState.finished,v=function(){a=!1,d=!0,n||r.call(t)},p=t._readableState&&t._readableState.endEmitted,w=function(){n=!1,p=!0,a||r.call(t)},c=function(N){r.call(t,N)},y=function(){var N;if(n&&!p)return(!t._readableState||!t._readableState.ended)&&(N=new Rr),r.call(t,N);if(a&&!d)return(!t._writableState||!t._writableState.ended)&&(N=new Rr),r.call(t,N)},C=function(){t.req.on("finish",v)};return Io(t)?(t.on("complete",v),t.on("abort",y),t.req?C():t.on("request",C)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",w),t.on("finish",v),e.error!==!1&&t.on("error",c),t.on("close",y),function(){t.removeListener("complete",v),t.removeListener("abort",y),t.removeListener("request",C),t.req&&t.req.removeListener("finish",v),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",v),t.removeListener("end",w),t.removeListener("error",c),t.removeListener("close",y)}}var er=gn,At,Ar;function Lo(){if(Ar)return At;Ar=1;var t;function e(T,P,F){return P=r(P),P in T?Object.defineProperty(T,P,{value:F,enumerable:!0,configurable:!0,writable:!0}):T[P]=F,T}function r(T){var P=n(T,"string");return typeof P=="symbol"?P:String(P)}function n(T,P){if(typeof T!="object"||T===null)return T;var F=T[Symbol.toPrimitive];if(F!==void 0){var L=F.call(T,P||"default");if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(T)}var a=er,u=Symbol("lastResolve"),d=Symbol("lastReject"),v=Symbol("error"),p=Symbol("ended"),w=Symbol("lastPromise"),c=Symbol("handlePromise"),y=Symbol("stream");function C(T,P){return{value:T,done:P}}function D(T){var P=T[u];if(P!==null){var F=T[y].read();F!==null&&(T[w]=null,T[u]=null,T[d]=null,P(C(F,!1)))}}function N(T){x.nextTick(D,T)}function S(T,P){return function(F,L){T.then(function(){if(P[p]){F(C(void 0,!0));return}P[c](F,L)},L)}}var R=Object.getPrototypeOf(function(){}),s=Object.setPrototypeOf((t={get stream(){return this[y]},next:function(){var P=this,F=this[v];if(F!==null)return Promise.reject(F);if(this[p])return Promise.resolve(C(void 0,!0));if(this[y].destroyed)return new Promise(function(I,z){x.nextTick(function(){P[v]?z(P[v]):I(C(void 0,!0))})});var L=this[w],G;if(L)G=new Promise(S(L,this));else{var k=this[y].read();if(k!==null)return Promise.resolve(C(k,!1));G=new Promise(this[c])}return this[w]=G,G}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var P=this;return new Promise(function(F,L){P[y].destroy(null,function(G){if(G){L(G);return}F(C(void 0,!0))})})}),t),R),_=function(P){var F,L=Object.create(s,(F={},e(F,y,{value:P,writable:!0}),e(F,u,{value:null,writable:!0}),e(F,d,{value:null,writable:!0}),e(F,v,{value:null,writable:!0}),e(F,p,{value:P._readableState.endEmitted,writable:!0}),e(F,c,{value:function(k,I){var z=L[y].read();z?(L[w]=null,L[u]=null,L[d]=null,k(C(z,!1))):(L[u]=k,L[d]=I)},writable:!0}),F));return L[w]=null,a(P,function(G){if(G&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=L[d];k!==null&&(L[w]=null,L[u]=null,L[d]=null,k(G)),L[v]=G;return}var I=L[u];I!==null&&(L[w]=null,L[u]=null,L[d]=null,I(C(void 0,!0))),L[p]=!0}),P.on("readable",N.bind(null,L)),L};return At=_,At}var Ct,Cr;function Do(){return Cr||(Cr=1,Ct=function(){throw new Error("Readable.from is not available in the browser")}),Ct}var Tt,Tr;function bn(){if(Tr)return Tt;Tr=1,Tt=I;var t;I.ReadableState=k,zr.EventEmitter;var e=function(o,E){return o.listeners(E).length},r=Kr,n=rt.Buffer,a=(typeof ae<"u"?ae:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(i){return n.from(i)}function d(i){return n.isBuffer(i)||i instanceof a}var v=zt,p;v&&v.debuglog?p=v.debuglog("stream"):p=function(){};var w=_o(),c=dn,y=pn,C=y.getHighWaterMark,D=Se.codes,N=D.ERR_INVALID_ARG_TYPE,S=D.ERR_STREAM_PUSH_AFTER_EOF,R=D.ERR_METHOD_NOT_IMPLEMENTED,s=D.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_,T,P;ke(I,r);var F=c.errorOrDestroy,L=["error","close","destroy","pause","resume"];function G(i,o,E){if(typeof i.prependListener=="function")return i.prependListener(o,E);!i._events||!i._events[o]?i.on(o,E):Array.isArray(i._events[o])?i._events[o].unshift(E):i._events[o]=[E,i._events[o]]}function k(i,o,E){t=t||Le(),i=i||{},typeof E!="boolean"&&(E=o instanceof t),this.objectMode=!!i.objectMode,E&&(this.objectMode=this.objectMode||!!i.readableObjectMode),this.highWaterMark=C(this,i,"readableHighWaterMark",E),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.destroyed=!1,this.defaultEncoding=i.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,i.encoding&&(_||(_=Er().StringDecoder),this.decoder=new _(i.encoding),this.encoding=i.encoding)}function I(i){if(t=t||Le(),!(this instanceof I))return new I(i);var o=this instanceof t;this._readableState=new k(i,this,o),this.readable=!0,i&&(typeof i.read=="function"&&(this._read=i.read),typeof i.destroy=="function"&&(this._destroy=i.destroy)),r.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(o){this._readableState&&(this._readableState.destroyed=o)}}),I.prototype.destroy=c.destroy,I.prototype._undestroy=c.undestroy,I.prototype._destroy=function(i,o){o(i)},I.prototype.push=function(i,o){var E=this._readableState,M;return E.objectMode?M=!0:typeof i=="string"&&(o=o||E.defaultEncoding,o!==E.encoding&&(i=n.from(i,o),o=""),M=!0),z(this,i,o,!1,M)},I.prototype.unshift=function(i){return z(this,i,null,!0,!1)};function z(i,o,E,M,$){p("readableAddChunk",o);var B=i._readableState;if(o===null)B.reading=!1,te(i,B);else{var W;if($||(W=X(B,o)),W)F(i,W);else if(B.objectMode||o&&o.length>0)if(typeof o!="string"&&!B.objectMode&&Object.getPrototypeOf(o)!==n.prototype&&(o=u(o)),M)B.endEmitted?F(i,new s):ee(i,B,o,!0);else if(B.ended)F(i,new S);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!E?(o=B.decoder.write(o),B.objectMode||o.length!==0?ee(i,B,o,!1):ie(i,B)):ee(i,B,o,!1)}else M||(B.reading=!1,ie(i,B))}return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function ee(i,o,E,M){o.flowing&&o.length===0&&!o.sync?(o.awaitDrain=0,i.emit("data",E)):(o.length+=o.objectMode?1:E.length,M?o.buffer.unshift(E):o.buffer.push(E),o.needReadable&&ne(i)),ie(i,o)}function X(i,o){var E;return!d(o)&&typeof o!="string"&&o!==void 0&&!i.objectMode&&(E=new N("chunk",["string","Buffer","Uint8Array"],o)),E}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(i){_||(_=Er().StringDecoder);var o=new _(i);this._readableState.decoder=o,this._readableState.encoding=this._readableState.decoder.encoding;for(var E=this._readableState.buffer.head,M="";E!==null;)M+=o.write(E.data),E=E.next;return this._readableState.buffer.clear(),M!==""&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var Z=1073741824;function se(i){return i>=Z?i=Z:(i--,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i++),i}function fe(i,o){return i<=0||o.length===0&&o.ended?0:o.objectMode?1:i!==i?o.flowing&&o.length?o.buffer.head.data.length:o.length:(i>o.highWaterMark&&(o.highWaterMark=se(i)),i<=o.length?i:o.ended?o.length:(o.needReadable=!0,0))}I.prototype.read=function(i){p("read",i),i=parseInt(i,10);var o=this._readableState,E=i;if(i!==0&&(o.emittedReadable=!1),i===0&&o.needReadable&&((o.highWaterMark!==0?o.length>=o.highWaterMark:o.length>0)||o.ended))return p("read: emitReadable",o.length,o.ended),o.length===0&&o.ended?g(this):ne(this),null;if(i=fe(i,o),i===0&&o.ended)return o.length===0&&g(this),null;var M=o.needReadable;p("need readable",M),(o.length===0||o.length-i<o.highWaterMark)&&(M=!0,p("length less than watermark",M)),o.ended||o.reading?(M=!1,p("reading or ended",M)):M&&(p("do read"),o.reading=!0,o.sync=!0,o.length===0&&(o.needReadable=!0),this._read(o.highWaterMark),o.sync=!1,o.reading||(i=fe(E,o)));var $;return i>0?$=l(i,o):$=null,$===null?(o.needReadable=o.length<=o.highWaterMark,i=0):(o.length-=i,o.awaitDrain=0),o.length===0&&(o.ended||(o.needReadable=!0),E!==i&&o.ended&&g(this)),$!==null&&this.emit("data",$),$};function te(i,o){if(p("onEofChunk"),!o.ended){if(o.decoder){var E=o.decoder.end();E&&E.length&&(o.buffer.push(E),o.length+=o.objectMode?1:E.length)}o.ended=!0,o.sync?ne(i):(o.needReadable=!1,o.emittedReadable||(o.emittedReadable=!0,le(i)))}}function ne(i){var o=i._readableState;p("emitReadable",o.needReadable,o.emittedReadable),o.needReadable=!1,o.emittedReadable||(p("emitReadable",o.flowing),o.emittedReadable=!0,x.nextTick(le,i))}function le(i){var o=i._readableState;p("emitReadable_",o.destroyed,o.length,o.ended),!o.destroyed&&(o.length||o.ended)&&(i.emit("readable"),o.emittedReadable=!1),o.needReadable=!o.flowing&&!o.ended&&o.length<=o.highWaterMark,f(i)}function ie(i,o){o.readingMore||(o.readingMore=!0,x.nextTick(J,i,o))}function J(i,o){for(;!o.reading&&!o.ended&&(o.length<o.highWaterMark||o.flowing&&o.length===0);){var E=o.length;if(p("maybeReadMore read 0"),i.read(0),E===o.length)break}o.readingMore=!1}I.prototype._read=function(i){F(this,new R("_read()"))},I.prototype.pipe=function(i,o){var E=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=i;break;case 1:M.pipes=[M.pipes,i];break;default:M.pipes.push(i);break}M.pipesCount+=1,p("pipe count=%d opts=%j",M.pipesCount,o);var $=(!o||o.end!==!1)&&i!==x.stdout&&i!==x.stderr,B=$?ge:Be;M.endEmitted?x.nextTick(B):E.once("end",B),i.on("unpipe",W);function W(Ee,Re){p("onunpipe"),Ee===E&&Re&&Re.hasUnpiped===!1&&(Re.hasUnpiped=!0,tr())}function ge(){p("onend"),i.end()}var m=ye(E);i.on("drain",m);var We=!1;function tr(){p("cleanup"),i.removeListener("close",ft),i.removeListener("finish",lt),i.removeListener("drain",m),i.removeListener("error",st),i.removeListener("unpipe",W),E.removeListener("end",ge),E.removeListener("end",Be),E.removeListener("data",rr),We=!0,M.awaitDrain&&(!i._writableState||i._writableState.needDrain)&&m()}E.on("data",rr);function rr(Ee){p("ondata");var Re=i.write(Ee);p("dest.write",Re),Re===!1&&((M.pipesCount===1&&M.pipes===i||M.pipesCount>1&&j(M.pipes,i)!==-1)&&!We&&(p("false write response, pause",M.awaitDrain),M.awaitDrain++),E.pause())}function st(Ee){p("onerror",Ee),Be(),i.removeListener("error",st),e(i,"error")===0&&F(i,Ee)}G(i,"error",st);function ft(){i.removeListener("finish",lt),Be()}i.once("close",ft);function lt(){p("onfinish"),i.removeListener("close",ft),Be()}i.once("finish",lt);function Be(){p("unpipe"),E.unpipe(i)}return i.emit("pipe",E),M.flowing||(p("pipe resume"),E.resume()),i};function ye(i){return function(){var E=i._readableState;p("pipeOnDrain",E.awaitDrain),E.awaitDrain&&E.awaitDrain--,E.awaitDrain===0&&e(i,"data")&&(E.flowing=!0,f(i))}}I.prototype.unpipe=function(i){var o=this._readableState,E={hasUnpiped:!1};if(o.pipesCount===0)return this;if(o.pipesCount===1)return i&&i!==o.pipes?this:(i||(i=o.pipes),o.pipes=null,o.pipesCount=0,o.flowing=!1,i&&i.emit("unpipe",this,E),this);if(!i){var M=o.pipes,$=o.pipesCount;o.pipes=null,o.pipesCount=0,o.flowing=!1;for(var B=0;B<$;B++)M[B].emit("unpipe",this,{hasUnpiped:!1});return this}var W=j(o.pipes,i);return W===-1?this:(o.pipes.splice(W,1),o.pipesCount-=1,o.pipesCount===1&&(o.pipes=o.pipes[0]),i.emit("unpipe",this,E),this)},I.prototype.on=function(i,o){var E=r.prototype.on.call(this,i,o),M=this._readableState;return i==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):i==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,p("on readable",M.length,M.reading),M.length?ne(this):M.reading||x.nextTick(h,this)),E},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(i,o){var E=r.prototype.removeListener.call(this,i,o);return i==="readable"&&x.nextTick(oe,this),E},I.prototype.removeAllListeners=function(i){var o=r.prototype.removeAllListeners.apply(this,arguments);return(i==="readable"||i===void 0)&&x.nextTick(oe,this),o};function oe(i){var o=i._readableState;o.readableListening=i.listenerCount("readable")>0,o.resumeScheduled&&!o.paused?o.flowing=!0:i.listenerCount("data")>0&&i.resume()}function h(i){p("readable nexttick read 0"),i.read(0)}I.prototype.resume=function(){var i=this._readableState;return i.flowing||(p("resume"),i.flowing=!i.readableListening,b(this,i)),i.paused=!1,this};function b(i,o){o.resumeScheduled||(o.resumeScheduled=!0,x.nextTick(A,i,o))}function A(i,o){p("resume",o.reading),o.reading||i.read(0),o.resumeScheduled=!1,i.emit("resume"),f(i),o.flowing&&!o.reading&&i.read(0)}I.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function f(i){var o=i._readableState;for(p("flow",o.flowing);o.flowing&&i.read()!==null;);}I.prototype.wrap=function(i){var o=this,E=this._readableState,M=!1;i.on("end",function(){if(p("wrapped end"),E.decoder&&!E.ended){var W=E.decoder.end();W&&W.length&&o.push(W)}o.push(null)}),i.on("data",function(W){if(p("wrapped data"),E.decoder&&(W=E.decoder.write(W)),!(E.objectMode&&W==null)&&!(!E.objectMode&&(!W||!W.length))){var ge=o.push(W);ge||(M=!0,i.pause())}});for(var $ in i)this[$]===void 0&&typeof i[$]=="function"&&(this[$]=function(ge){return function(){return i[ge].apply(i,arguments)}}($));for(var B=0;B<L.length;B++)i.on(L[B],this.emit.bind(this,L[B]));return this._read=function(W){p("wrapped _read",W),M&&(M=!1,i.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=Lo()),T(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(o){this._readableState&&(this._readableState.flowing=o)}}),I._fromList=l,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function l(i,o){if(o.length===0)return null;var E;return o.objectMode?E=o.buffer.shift():!i||i>=o.length?(o.decoder?E=o.buffer.join(""):o.buffer.length===1?E=o.buffer.first():E=o.buffer.concat(o.length),o.buffer.clear()):E=o.buffer.consume(i,o.decoder),E}function g(i){var o=i._readableState;p("endReadable",o.endEmitted),o.endEmitted||(o.ended=!0,x.nextTick(O,o,i))}function O(i,o){if(p("endReadableNT",i.endEmitted,i.length),!i.endEmitted&&i.length===0&&(i.endEmitted=!0,o.readable=!1,o.emit("end"),i.autoDestroy)){var E=o._writableState;(!E||E.autoDestroy&&E.finished)&&o.destroy()}}typeof Symbol=="function"&&(I.from=function(i,o){return P===void 0&&(P=Do()),P(I,i,o)});function j(i,o){for(var E=0,M=i.length;E<M;E++)if(i[E]===o)return E;return-1}return Tt}var vn=he,ot=Se.codes,ko=ot.ERR_METHOD_NOT_IMPLEMENTED,Bo=ot.ERR_MULTIPLE_CALLBACK,xo=ot.ERR_TRANSFORM_ALREADY_TRANSFORMING,Uo=ot.ERR_TRANSFORM_WITH_LENGTH_0,at=Le();ke(he,at);function $o(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Bo);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function he(t){if(!(this instanceof he))return new he(t);at.call(this,t),this._transformState={afterTransform:$o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Wo)}function Wo(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Or(t,e,r)}):Or(this,null,null)}he.prototype.push=function(t,e){return this._transformState.needTransform=!1,at.prototype.push.call(this,t,e)};he.prototype._transform=function(t,e,r){r(new ko("_transform()"))};he.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};he.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};he.prototype._destroy=function(t,e){at.prototype._destroy.call(this,t,function(r){e(r)})};function Or(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Uo;if(t._transformState.transforming)throw new xo;return t.push(null)}var qo=Ue,_n=vn;ke(Ue,_n);function Ue(t){if(!(this instanceof Ue))return new Ue(t);_n.call(this,t)}Ue.prototype._transform=function(t,e,r){r(null,t)};var Ot;function Go(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var mn=Se.codes,Ho=mn.ERR_MISSING_ARGS,Vo=mn.ERR_STREAM_DESTROYED;function Pr(t){if(t)throw t}function zo(t){return t.setHeader&&typeof t.abort=="function"}function Ko(t,e,r,n){n=Go(n);var a=!1;t.on("close",function(){a=!0}),Ot===void 0&&(Ot=er),Ot(t,{readable:e,writable:r},function(d){if(d)return n(d);a=!0,n()});var u=!1;return function(d){if(!a&&!u){if(u=!0,zo(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(d||new Vo("pipe"))}}}function Nr(t){t()}function Jo(t,e){return t.pipe(e)}function Yo(t){return!t.length||typeof t[t.length-1]!="function"?Pr:t.pop()}function Xo(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Yo(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Ho("streams");var a,u=e.map(function(d,v){var p=v<e.length-1,w=v>0;return Ko(d,p,w,function(c){a||(a=c),c&&u.forEach(Nr),!p&&(u.forEach(Nr),n(a))})});return e.reduce(Jo)}var Zo=Xo;(function(t,e){e=t.exports=bn(),e.Stream=e,e.Readable=e,e.Writable=yn(),e.Duplex=Le(),e.Transform=vn,e.PassThrough=qo,e.finished=er,e.pipeline=Zo})(Dt,Dt.exports);var Qo=Dt.exports;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let jr;var ea=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ae):t=>(jr||(jr=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0)),ta=Bn("simple-peer"),wn=xn,Mr=Gn,ra=Qo,Pt=ea,Nt=64*1024,na=5*1e3,ia=5*1e3;function Fr(t){return t.replace(/a=ice-options:trickle\s\n/g,"")}function H(t,e){var r=new Error(t);return r.code=e,r}function oa(t){console.warn(t)}class we extends ra.Duplex{constructor(e){if(e=Object.assign({allowHalfOpen:!1},e),super(e),this._id=Mr(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||Mr(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||we.channelConfig,this.config=Object.assign({},we.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(r=>r),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=e.trickle!==void 0?e.trickle:!0,this.allowHalfTrickle=e.allowHalfTrickle!==void 0?e.allowHalfTrickle:!1,this.iceCompleteTimeout=e.iceCompleteTimeout||na,this.destroyed=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&typeof e.wrtc=="object"?e.wrtc:wn(),!this._wrtc)throw H(typeof window>"u"?"No WebRTC support: Specify `opts.wrtc` option in this environment":"No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(r){Pt(()=>this.destroy(H(r,"ERR_PC_CONSTRUCTOR")));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},this.initiator?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this.streams&&this.streams.forEach(r=>{this.addStream(r)}),this._pc.ontrack=r=>{this._onTrack(r)},this.initiator&&this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(this.destroyed)throw H("cannot signal after peer is destroyed","ERR_SIGNALING");if(typeof e=="string")try{e=JSON.parse(e)}catch{e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.destroy(H(r,"ERR_SET_REMOTE_DESCRIPTION"))}),!e.sdp&&!e.candidate&&!e.renegotiate&&!e.transceiverRequest&&this.destroy(H("signal() called with invalid signal data","ERR_SIGNALING"))}_addIceCandidate(e){var r=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(r).catch(n=>{!r.address||r.address.endsWith(".local")?oa("Ignoring unsupported ICE candidate."):this.destroy(H(n,"ERR_ADD_ICE_CANDIDATE"))})}send(e){this._channel.send(e)}addTransceiver(e,r){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,r),this._needsNegotiation()}catch(n){this.destroy(H(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:e,init:r}})}addStream(e){this._debug("addStream()"),e.getTracks().forEach(r=>{this.addTrack(r,e)})}addTrack(e,r){this._debug("addTrack()");var n=this._senderMap.get(e)||new Map,a=n.get(r);if(!a)a=this._pc.addTrack(e,r),n.set(r,a),this._senderMap.set(e,n),this._needsNegotiation();else throw a.removed?H("Track has been removed. You should enable/disable tracks that you want to re-add.","ERR_SENDER_REMOVED"):H("Track has already been added to that stream.","ERR_SENDER_ALREADY_ADDED")}replaceTrack(e,r,n){this._debug("replaceTrack()");var a=this._senderMap.get(e),u=a?a.get(n):null;if(!u)throw H("Cannot replace track that was never added.","ERR_TRACK_NOT_ADDED");r&&this._senderMap.set(r,a),u.replaceTrack!=null?u.replaceTrack(r):this.destroy(H("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,r){this._debug("removeSender()");var n=this._senderMap.get(e),a=n?n.get(r):null;if(!a)throw H("Cannot remove track that was never added.","ERR_TRACK_NOT_ADDED");try{a.removed=!0,this._pc.removeTrack(a)}catch(u){u.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(a):this.destroy(H(u,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){this._debug("removeSenders()"),e.getTracks().forEach(r=>{this.removeTrack(r,e)})}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,Pt(()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()}))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating||(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}destroy(e){this._destroy(e,()=>{})}_destroy(e,r){if(!this.destroyed){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),r()}}_setupData(e){if(!e.channel)return this.destroy(H("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=Nt),this.channelName=this._channel.label,this._channel.onmessage=n=>{this._onChannelMessage(n)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=n=>{this.destroy(H(n,"ERR_DATA_CHANNEL"))};var r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},ia)}_read(){}_write(e,r,n){if(this.destroyed)return n(H("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(a){return this.destroy(H(a,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>Nt?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=Fr(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const r=()=>{if(!this.destroyed){var u=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:u.type,sdp:u.sdp})}},n=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},a=u=>{this.destroy(H(u,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(n).catch(a)}).catch(e=>{this.destroy(H(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{!e.mid&&e.sender.track&&!e.requested&&(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=Fr(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const r=()=>{if(!this.destroyed){var u=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:u.type,sdp:u.sdp}),this.initiator||this._requestMissingTransceivers()}},n=()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},a=u=>{this.destroy(H(u,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(n).catch(a)}).catch(e=>{this.destroy(H(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(H("Connection failed.","ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(!this.destroyed){var e=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,r),this.emit("iceStateChange",e,r),(e==="connected"||e==="completed")&&(this._pcReady=!0,this._maybeReady()),e==="failed"&&this.destroy(H("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),e==="closed"&&this.destroy(H("Ice connection closed.","ERR_ICE_CONNECTION_CLOSED"))}}getStats(e){const r=n=>(Object.prototype.toString.call(n.values)==="[object Array]"&&n.values.forEach(a=>{Object.assign(n,a)}),n);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{var a=[];n.forEach(u=>{a.push(r(u))}),e(null,a)},n=>e(n)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(!this.destroyed){var a=[];n.result().forEach(u=>{var d={};u.names().forEach(v=>{d[v]=u.stat(v)}),d.id=u.id,d.type=u.type,d.timestamp=u.timestamp,a.push(r(d))}),e(null,a)}},n=>e(n)):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats((r,n)=>{if(this.destroyed)return;r&&(n=[]);var a={},u={},d={},v=!1;n.forEach(c=>{(c.type==="remotecandidate"||c.type==="remote-candidate")&&(a[c.id]=c),(c.type==="localcandidate"||c.type==="local-candidate")&&(u[c.id]=c),(c.type==="candidatepair"||c.type==="candidate-pair")&&(d[c.id]=c)});const p=c=>{v=!0;var y=u[c.localCandidateId];y&&(y.ip||y.address)?(this.localAddress=y.ip||y.address,this.localPort=Number(y.port)):y&&y.ipAddress?(this.localAddress=y.ipAddress,this.localPort=Number(y.portNumber)):typeof c.googLocalAddress=="string"&&(y=c.googLocalAddress.split(":"),this.localAddress=y[0],this.localPort=Number(y[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");var C=a[c.remoteCandidateId];C&&(C.ip||C.address)?(this.remoteAddress=C.ip||C.address,this.remotePort=Number(C.port)):C&&C.ipAddress?(this.remoteAddress=C.ipAddress,this.remotePort=Number(C.portNumber)):typeof c.googRemoteAddress=="string"&&(C=c.googRemoteAddress.split(":"),this.remoteAddress=C[0],this.remotePort=Number(C[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach(c=>{c.type==="transport"&&c.selectedCandidatePairId&&p(d[c.selectedCandidatePairId]),(c.type==="googCandidatePair"&&c.googActiveConnection==="true"||(c.type==="candidatepair"||c.type==="candidate-pair")&&c.selected)&&p(c)}),!v&&(!Object.keys(d).length||Object.keys(u).length)){setTimeout(e,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(c){return this.destroy(H(c,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');var w=this._cb;this._cb=null,w(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>Nt||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&!this._firstStable&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):!e.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(!this.destroyed){var r=e.data;r instanceof ArrayBuffer&&(r=Rn.from(r)),this.push(r)}}_onChannelBufferedAmountLow(){if(!(this.destroyed||!this._cb)){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(r=>{this._debug("on track"),this.emit("track",e.track,r),this._remoteTracks.push({track:e.track,stream:r}),!this._remoteStreams.some(n=>n.id===r.id)&&(this._remoteStreams.push(r),Pt(()=>{this.emit("stream",r)}))})}_debug(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],ta.apply(null,e)}}we.WEBRTC_SUPPORT=!!wn();we.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}],sdpSemantics:"unified-plan"};we.channelConfig={};var aa=we;const sa=An(aa),be={};let Te,Oe;const la=()=>{const t=Cn(),{load:e,stop:r}=Tn(),{user:n,setCalling:a}=qe.useContext(On),[u,d]=qe.useState(0),{phone:v,type:p}=Pn(),[w,c]=qe.useState();qe.useEffect(()=>(a(!0),!v||v==="null"?ut.fire({icon:"error",text:"PhoneNumber Error.",confirmButtonText:"はい",didClose:()=>{t(-1)}}):(N(v),y()),()=>{Te&&Te.getTracks().forEach(S=>{S.stop()}),C(),r(),a(!1)}),[v]);const y=async()=>{try{Te=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0}),p==="send"?(e("/sounds/ringing.mp3",{autoplay:!0,loop:!0}),Q.emit("c2s-call",{to:v,userId:n==null?void 0:n.id}),Q.on("s2c-receive",({socketId:S})=>{r(),console.log("Reived: "+S),D({socketId:S,stream:Te,initiator:!0})}),Q.on("s2c-reject",()=>{e("/sounds/beep.wav",{autoplay:!0,loop:!0}),d(2)})):p==="receive"&&Q.emit("c2s-accept",{to:v,userId:n==null?void 0:n.id}),Q.on("s2c-init",({socketId:S})=>{D({socketId:S,initiator:!1,stream:Te}),console.log("Join Add Peer:"+S)}),Q.on("s2c-leave",({from:S})=>{console.log("Leave => ",S),e("/sounds/beep.wav",{autoplay:!0,loop:!0}),d(2)}),Q.on("s2c-signal",({signal:S,from:R})=>{Oe=R,console.log("Signal recieved: ",{from:R,signal:S}),be[R]||D({socketId:R,stream:Te,initiator:!1}),be[R].signal(S),d(1)})}catch(S){const R=S instanceof Error?S.message:S;ut.fire({icon:"error",text:R,confirmButtonText:"はい",didClose:()=>{t(-1)}})}},C=()=>{Oe&&!be[Oe].destroyed&&console.log(Oe,"destroyed."),console.log(w),Oe&&Q.emit("c2s-leave",{to:Oe}),u===0&&Q.emit("c2s-cancel",{toPhone:v}),Q.off("s2c-receive"),Q.off("s2c-reject"),Q.off("s2c-leave")},D=({socketId:S,initiator:R,stream:s})=>{S&&(be[S]=new sa({initiator:R,trickle:!1,stream:s,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"}]}}),be[S].on("close",()=>{console.log(S,"destroyed.")}),be[S].on("connect",()=>{console.log("Peer connected:",S)}),console.log("Adding peer : ",{socketId:S}),be[S].on("signal",_=>{console.log("Signal : ",{socketId:S,initiator:R,data:_,stream:s}),Q.emit("c2s-signal",{signal:_,to:S})}),be[S].on("stream",_=>{console.log("Received Stream : ",{data:_});const T=document.getElementById("videos"),P=document.createElement("audio");P.srcObject=_,P.id=S,P.autoplay=!0,T==null||T.appendChild(P)}))},N=async S=>{try{const{data:R}=await Nn.get("/contacts/"+S);c(R)}catch(R){const s=R instanceof Error?R.message:R;ut.fire({icon:"error",text:s,confirmButtonText:"はい"})}};return Y.jsxs("div",{className:"container-primary",children:[Y.jsxs("div",{className:"bg-[#AA8899] p-4",children:[Y.jsx("div",{className:"flex justify-center",children:Y.jsx("img",{src:"/rsc/call_pic.jpg",className:"w-28 h-2w-28 rounded-full",alt:""})}),Y.jsx("div",{className:"text-white text-2xl mt-4 text-center",children:u===0?Y.jsxs("span",{children:["接続中です。",Y.jsx("br",{})," お待ち下さい。"]}):u===1?"Connect":"disconnect"})]}),Y.jsxs("div",{className:"h-full flex items-center justify-center flex-col text-gray-600",children:[Y.jsx("div",{className:"text-2xl font-bold",children:w==null?void 0:w.name}),Y.jsx("div",{className:"text-3xl",children:v}),Y.jsx("div",{className:"text-2xl",children:w==null?void 0:w.email}),Y.jsx("div",{className:"text-2xl capitalize",children:w==null?void 0:w.type}),Y.jsx("div",{id:"videos"})]}),Y.jsx("div",{className:"bg-[#AA8899] p-8 flex flex-col justify-center",children:Y.jsx("div",{className:"flex justify-center mt-8",children:Y.jsx("button",{onClick:()=>{t(-1)},className:"red-grad-bg px-8 py-2 w-full text-2xl rounded-md shadow-lg text-white font-bold",children:" 終了"})})})]})};export{la as default};
